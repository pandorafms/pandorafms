2009-06-19 Jorge Gonzlaez  <jorgegonz@artica.es>

	* AUTHORS: Fixed typo.

2009-06-18  Miguel de Dios  <miguel.dedios@artica.es>

	* include/functions_config.php: Fix save change language in setup.
	Fixes: #2777463

2009-06-10  Esteban Sanchez  <estebans@artica.es>

	* operation/events/events.php: Removed all events on select elements.
	Fixes #2797203.

2009-06-10  Esteban Sanchez  <estebans@artica.es>

	* include/functions_reporting.php: Return false if no data were found
	on get_agentmodule_sla(). Fixes #2777541

	* operation/reporting/reporting_viewer.php: Style correction.

2009-06-10  Esteban Sanchez  <estebans@artica.es>

	* godmode/modules/manage_network_templates_form.php: Applied
	Zdenek Janda's patch. Fixes #2802589

2009-06-10  Esteban Sanchez  <estebans@artica.es>

	* operation/agentes/networkmap.php: Avoids a warning when no nodes
	were found on generate_dot(). Shows a message when no nodes were
	found. Fixes #2786516. 

	* operation/menu.php: Changed label of network maps.

2009-06-09  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/pandora_modules.js: Fixed variable name.

2009-06-09  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/agent_manager.php: Fixed string filter when
	searching agents. Avoids a PHP notice when none found

	* godmode/agentes/configurar_agente.php: Solved a mess with variable
	names.

	* godmode/agentes/module_manager_editor_prediction.php: Improved
	the prediction module selection, adding a filter for agents and
	module. Fixes #2707907

	* include/javascript/jquery.pandora.controls.js: Returns
	whenever callbackBefore returns false.

	* include/javascript/pandora_modules.js: Check for module selection
	when creating a prediction one.

	* include/styles/pandora.css: Added style to prediction module
	selection.

	* godmode/alerts/alert_list.php: callbackBefore on pandora.controls
	elements must return true now.

	* godmode/agentes/module_manager_editor_common.php: Added moduletype
	hidden input to be used in javascript.

	* godmode/agentes/module_manager_editor.php: Use pandora.controls and
	added a string for javascript.

2009-06-09  Esteban Sanchez  <estebans@artica.es>

	* godmode/reporting/reporting_builder.php: Fixed a couple of typo
	errors when adding a SLA report.

2009-06-09  Esteban Sanchez  <estebans@artica.es>

	* include/functions_visual_map.php: Removed debug that causes maps to
	work strangely.

2009-06-09  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/agent_manager.php: Added autocomplete support
	to parent selection, which is no a dropdown anymore. Partial fix for
	#2707924.

	* godmode/agentes/configurar_agente.php: Parent data is now the
	agent name, not the agent id.

	* include/javascript/jquery.ajaxqueue.js,
	include/javascript/jquery.autocomplete.js,
	include/javascript/jquery.bgiframe.js: Added to repository.
	Autocompleter jQuery plugin.

	* include/styles/pandora.css: Added autocomplete styles.

	* include/functions_db.php: Added more support for search
	parameter to get_group_agents() so you can pass a filter array now.

	* operation/agentes/estado_agente.php: Style correction.

2009-06-09  Esteban Sanchez  <estebans@artica.es>

	* include/styles/help.css, include/styles/pandora_minimal.css,
	include/styles/ie.css, include/styles/menu.css,
	include/styles/install.css, include/styles/pandora_red.css,
	include/styles/pandora_black.css, include/styles/pandora_width.css:
	Removed an extra close comment character that causes broken CSS.

2009-06-08  Sancho Lerena <slerena@artica.es>

	* Massive header update.

2009-06-08  Esteban Sanchez  <estebans@artica.es>

	* include/functions.php: Added encoding checking on safe_input().
	Fixes #2797399.

2009-06-08  Esteban Sanchez  <estebans@artica.es>

	* godmode/reporting/reporting_builder.php: Replaced SQL with pandora
	database functions. Do not order period values. Some style to delete
	icons.

	* include/functions_reports.php: Tiny fix on update_report() when
	checking if report exists. Fixes #2791058.

2009-06-08  Esteban Sanchez  <estebans@artica.es>

	* godmode/setup/file_manager.php: Many fixes to the interface. Removed
	the dropdown menu when uploading a file, it now uploads it to the
	current dir, which is more natural. Do not show "No files found"
	anymore, because user may want to create subdirs. Fixes image for
	previous dir and show it again.

	* include/javascript/jquery.ui.datepicker.js: Changed default date
	format.

	* include/functions_filemanager.php: Changed
	get_file_manager_available_directories() to add subdirs too.
	Changed is_file_manager_writable_dir() to check if parent dir is
	writable.

	* operation/agentes/estado_agente.php: Use array filters instead
	of SQL code chunks.

	* operation/reporting/reporting_viewer.php: Fixed link to timeentry
	jQuery file.

	* images/status_sets/color_text/*, images/status_sets/default/*,
	images/pixel_yellow.png, images/pixel_gray.png,
	images/pixel_fucsia.png, images/pixel_red.png,
	images/pixel_black.png: Use Tango palette. Softer and cleaners
	colors.

2009-06-01  Sancho lerena <slerena@artica.es>

	* extras/pandora_diag.php: Diagnostic tool. This reports some  
	details of database usage, configuration and version who can
	Pandora FMS dev. team some hints about possible problems.

2009-05-29  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/massive_edit_modules.php: Renamed ff_event field
	to min_ff_event to match tagente_modulo field name. Better code for
	process_manage_edit(). Fixes #2785011.

	* include/functions_modules.php: Fixed an error on
	update_agente_module() when no name was given, also added extra
	check for empty values.

2009-05-29  Esteban Sanchez  <estebans@artica.es>

	* include/functions_menu.php: Added menu_icon class.

	* include/styles/menu.css: Split background style for menu icons.
	Recovered menu colors.

	* include/styles/pandora.css: Added body.pure element.

	* include/styles/pandora_blackmetal.css,
	include/styles/pandora_black.css: Improve to reuse pandora.css

	* include/functions_ui.php: Use pure class on body element
	on process_page_body(). Better comment when creating the css array on
	process_page_head().

2009-05-28  Esteban Sanchez  <estebans@artica.es>

	* godmode/reporting/map_builder.php: Replaced exit with return. Use
	jquery.pandora_controls extensions to manage agent dropdown.
	Fixes #2784397

	* include/javascript/jquery.pandora.controls.js: Exclude delete pending
	modules on pandoraSelectAgentModule.

	* include/javascript/pandora.js: Removed php code on a javascript file.

2009-05-28  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Return -1 on get_agent_status() on case
	the agent last contact has exceed the agent interval.

	* include/functions_visual_map.php: Call get_agent_status() when
	an element is to monitor a whole agent. Fixes #2761712

2009-05-28  Esteban Sanchez  <estebans@artica.es>

	* install.php: Use server address if the db host is not localhost.
	Fixes #2796790.

	* include/functions_agents.php: Fixed an array cast on
	get_agent_alerts_compound().

	* include/functions_events.php: Critical and warning colors where
	swapped on print_events_table().

	* include/functions_reporting.php: Fixed alerts count on
	get_group_stats() and count combined alerts too. Fixes #2791577

	* operation/agentes/tactical.php: Style corrections.

2009-05-27  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* godmode/agentes/configurar_agente.php: Should fix bug #2785154. Wasn't
	clear on how to duplicate but from what I understand this should fix it.

2009-05-27  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/configurar_agente.php: Style correction.

	* operation/snmpconsole/snmp_view.php: Fixed creation link when
	the agent is not found by address. Fixes #2777409

	* godmode/agentes/agent_manager.php: Use address as name on creation
	when it's given.

2009-05-27  Esteban Sanchez  <estebans@artica.es>

	* general/header.php: Added code to ignored parameters. Fixes #2779381

	* include/functions_ui.php: Ignore form operations on get_url_refresh()

2009-05-27  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/configurar_agente.php: Use pandora functions to
	create and update modules. Some fixes when these operations could
	not be done so the editor appears again. Fixes #2762316

	* godmode/agentes/module_manager_editor.php: Some patches to work
	better with configurar_agente.php

	* include/functions_modules.php: Avoid setting an empty name on
	update_agent_module()

2009-05-27  Esteban Sanchez  <estebans@artica.es>

	* reporting/fgraph.php: Do not short agent name on
	graphic_combined_module(). It was causing collisions. Fixes #2785193.

	* reporting/pchart_graph.php: Use AddSerie on combined_graph().

2009-05-27  Esteban Sanchez  <estebans@artica.es>

	* include/functions_visual_map.php: Problem fixed on
	get_layout_status() with label elements. Fixed definitely
	#2787197.

2009-05-27  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: return_status_agent() renamed to
	get_agent_status(). Improved get_agentmodule_status() documentation
	and code.

	* include/functions_visual_map.php: Styles correction. Use a switch
	instead of many ifs. Fixed get_layout_status() so the bad values have
	preference. Fixes #2787197.

2009-05-25  Esteban Sanchez  <estebans@artica.es>

	* godmode/modules/manage_network_components.php: Fixed a typo on
	onsubmit paramter that was avoiding asking for confirmation.

2009-05-25  Esteban Sanchez  <estebans@artica.es>

	* general/ui/agents_list.php: Fixed pagination javascript selector
	to avoid collisions.

	* godmode/modules/manage_nc_groups.php,
	godmode/modules/manage_nc_groups_form.php: Rewritten to use pandora
	functions. Code cleanup.

	* godmode/modules/manage_network_components.php: Fixed string search
	query.

	* include/functions_network_components.php: Added
	get_network_component_group().

2009-05-25  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	* translation.

	* include/languages/index.pot: Updated PO template.

2009-05-22  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/pandora_modules.js: Set values of plugin
	component when one of this kind is selected.

2009-05-22  Esteban Sanchez  <estebans@artica.es>

	* extras/pandoradb_migrate_v2.x_to_v3.0.sql,
	pandoradb.sql: Added id_plugin. Database breakage requested and
	approved.

	* godmode/modules/manage_network_components_form_common.php,
	godmode/modules/manage_network_components_form_plugin.php: Added
	to repository. New editor for network components.

	* godmode/modules/manage_network_components_form_network.php,
	godmode/modules/manage_network_components_form_wmi.php,
	godmode/modules/manage_network_components.php: Adapted to changes
	in component editors and missing fields. Added option to create
	plugin components.

	* godmode/modules/manage_network_components_form.php: Make the 
	different network component editors to reutilize the code and
	have a common UI.

	* godmode/agentes/module_manager_editor.php: Style correction.

	* include/styles/pandora.css: Style for network component editor.

	* include/functions_ui.php: Security fix in get_url_refresh() to
	avoid showing login info.

2009-05-21  Esteban Sanchez  <estebans@artica.es>

	* include/functions_network_components.php: Added to repository.
	Functions relative to network components moved here. Added
	create_network_component(), update_network_component() and
	delete_network_component().

	* include/functions_db.php: Removed
	gve_network_component_group_name(), duplicated in
	functions_network_components.php.

	* include/functions_modules.php: Moved functions relative to
	network components to functions_network_components.php.

	* godmode/modules/manage_nc_groups_form.php,
	godmode/modules/manage_network_templates_form.php,
	godmode/modules/manage_nc_groups.php: Use
	get_network_component_group_name() instead of deprecated
	give_network_component_group_name().

	* godmode/modules/manage_network_components.php: Rewritten
	to use pandora functions. Added pagination and better filtering
	and UI.

	* godmode/modules/manage_network_components_form_network.php,
	godmode/modules/manage_network_components_form_wmi.php,
	godmode/modules/manage_network_components_form.php: Some
	changes to adapt from manage_network_components file. Use
	pandora functions.

	* godmode/agentes/module_manager_editor_common.php,
	godmode/agentes/module_manager_editor.php: Include new
	functions_network_components.php file.

2009-05-20  Esteban Sanchez  <estebans@artica.es>

	* include/functions_alerts.php: Changed interface of
	get_alert_templates() to allow custom filters.

	* godmode/alerts/alert_list.php,
	godmode/agentes/massive_delete_alerts.php: Changes in
	get_alerts_templates().

	* godmode/alerts/alert_templates.php: Added pagination and a search
	form.

2009-05-20  Esteban Sanchez  <estebans@artica.es>

	* general/ui/agents_list.php: Fixed searching filter. Added pagination
	via AJAX.

	* godmode/alerts/configure_alert_template.php: Typo error.

	* images/application_edit.png, images/suc.png, images/err.png: Tiny
	changes.

	* images/application_not_writable.png: Added to repository.

	* include/styles/pandora.css: Make success and error messages a little
	bit narrower. Typo error.

	* include/functions.php: Style corrections in safe_input().

2009-05-19  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_incidents.php: Removed upgrade_inc13to21. An old
	function that shouldn't be there anymore.
	
	* include/functions_agents.php: Fixed documentation. Fixed some bugs in
	get_agents () when empty values were passed.
	
	* include/functions_ui.php: Added $config['ignore_callback']. Useful if
	you decide to flush the buffers (eg. to offer a download)
	* include/functions_db.php: Cleaned up get_db_all_rows_filter and added
	some documentation and todo's. Added get_agentmodule_data to get all
	datapoints of a module. Cleaned up get_agentmodule_data_average	
	
	* include/functions_html.php: Some situations generated a warning when alt
	wasn't specified (can't add keys on non-arrays)
	
	* include/exportdata.php: Rewritten. Added filters for group. Works using
	functions and export into HTML, CSV and Excel with the option for 
	expansion (specify the delimiter values)
svn co
2009-05-19  Esteban Sanchez  <estebans@artica.es>

	* operation/agentes/status_monitor.php: Many fixes in the code for
	pagination. Fixes #2762175

	* images/networkmap/4.png, images/networkmap/firewall.png,
	images/networkmap/7.png, images/networkmap/9.png,
	images/networkmap/printer.png: Updated with tango icons.

2009-05-19  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/massive_delete_alerts.php: Fixed an error when selecting
	multiple agents. Changed some strings. Deleted "None" from the agents list.
	Style corrections.

	* godmode/agentes/massive_delete_modules.php: Changed the way it works.
	Fixes #2707976.

	* images/download.png, images/star.png, images/note.png: More tango icons.

	* include/functions_alerts.php: Style corrections.
	
	* include/functions_modules.php: Added get_agents_with_module_name().

2009-05-19  Esteban Sanchez  <estebans@artica.es>

	* include/functions_alerts.php: Added get_agents_with_alert_template().
	Added extra filter to delete_alert_agent_module().

	* godmode/agentes/massive_delete_alerts.php: Completely changed the way it
	works. Fixes #2707976.
	
	* images/mod_keepalive.png: Replaced with tango icon.

2009-05-18  Esteban Sanchez  <estebans@artica.es>

	* images/mod_async_string.png, images/mod_async_inc.png,
 	images/mod_data.png, images/file.png, images/mod_image_png.png,
 	images/mod_async_data.png, images/config.png, images/mod_tcp_inc.png,
 	images/so_other.png, images/dot_magenta.png, images/so_hpux.png,
 	images/lock.png, images/plugin.png, images/mod_proc.png,
 	images/dot_green.png, images/mod_icmp_data.png, images/tip.png,
 	images/so_win.png, images/mod_async_proc.png, images/pill.png,
 	images/mod_snmp_string.png, images/mod_snmp_inc.png,
 	images/lightning_go.png, images/mod_tcp_data.png,
 	images/wrench_orange.png, images/dot_yellow.png, images/up.png,
 	images/dot_white.png, images/upd.png, images/mod_snmp_data.png,
 	images/recon.png, images/mod_icmp_proc.png, images/mod_tcp_string.png,
 	images/page_white.png, images/wrench.png, images/clock.png,
 	images/wmi.png, images/mod_string.png, images/mod_tcp_proc.png,
 	images/network.png, images/god2.png, images/god4.png, images/god6.png,
 	images/mod_snmp_proc.png, images/page_lightning.png,
 	images/mod_image_jpg.png, images/so_aix.png,
 	images/groups_small/plugin.png, images/groups_small/computer.png,
 	images/groups_small/database_gear.png, images/groups_small/heart.png,
 	images/groups_small/firewall.png, images/groups_small/bricks.png,
 	images/groups_small/chart_organisation.png,
 	images/groups_small/drive_network.png, images/groups_small/house.png,
 	images/groups_small/lightning.png, images/groups_small/printer.png,
 	images/groups_small/applications.png, images/groups_small/email.png,
 	images/groups_small/application_osx_terminal.png,
 	images/groups_small/world.png, images/groups_small/lock.png,
 	images/groups_small/network.png, images/groups_small/server_database.png,
 	images/groups_small/clock.png, images/photo.png, images/dot_blue.png,
 	images/dot_red.png, images/cross.png: Updated to tango icons.

2009-05-18  Esteban Sanchez  <estebans@artica.es>

	* images/award_star_bronze_1.png, images/award_star_bronze_2.png,
	images/award_star_bronze_3.png, images/award_star_gold_2.png,
	images/award_star_silver_1.png, images/bullet_add.png,
	images/bullet_black.png, images/bullet_blue.png,
	images/bullet_delete.png, images/bullet_disk.png,
	images/bullet_error.png, images/bullet_go.png,
	images/bullet_green.png, images/bullet_key.png,
	images/bullet_white.png, images/bullet_wrench.png,
	images/bullet_yellow.png, images/dot_down.png, images/exclamation.png,
	images/flag_blue.png, images/flag_green.png, images/flag_yellow.png,
	images/help_small.jpg, images/lock_open.png, images/mod_udp_proc.png,
	images/newspaper.png, images/phone_sound.png, images/pixel_blue.png,
	images/plugin_disabled.png, images/plugin_enabled.png,
	images/pulpo_lupa.png, images/shield.png, images/so_beos.png,
	images/status_busy.png, images/status_online.png, images/user_female.png,
	images/user_gray.png, images/user_orange.png, images/user_red.png,
	images/webcam.png: Deleted from repository. Unused icons.

	* images/agents_group.png: Added to repository. New icon.

	* godmode/agentes/configurar_agente.php,
	operation/agentes/ver_agente.php: Replaced icon for agent group.

	* include/functions_db.php: Replaced icons for data server. Style
	correction.

	* include/functions_ui.php: Cast block_size value for sanity.
	
	* ChangeLog: Added some lines of a previous commit.

2009-05-14  Esteban Sanchez  <estebans@artica.es>

	* images/go_first.png, images/go_last.png, images/go_next.png
	images/go_previous.png, images/page_refresh.png: Added to repository.

	* images/b_blue.png, images/b_green.png, images/binary.png,
	images/b_magenta.png, images/b_red.png, images/brick.png,
	images/bricks.png, images/bug.png, images/b_white.png,
	images/b_yellow.png, images/cog.png, images/comments.png,
	images/computer_error.png, images/computer.png, images/database_gear.png,
	images/database_lightning.png, images/database.png,
	images/database_refresh.png, images/disk.png, images/god3.png,
	images/god5.png, images/god7.png, images/god8.png,
	images/lightbulb_off.png, images/lightbulb.png,
	images/lightning.png, images/network.png, images/plugin.png,
	images/reporting_edit.png, images/setup.png: Update to tango theme.
	Some of them were repainted using tango palette.

	* images/control_end_blue.png, images/control_fastforward_blue.png
	images/control_rewind_blue.png, images/control_start_blue.png
	images/transmit.png: Deleted. Unused icons.

	* general/header.php: Changed refresh icon.

2009-05-14  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/massive_edit_modules.php: Fixed title.

	* images/printer.png, images/chart_curve.png, images/target.png,
	images/suc.png, images/rss.png, images/error.png, images/err.png:
	Updated with tango icons.

	* images/anchor.png, images/accept.png: Deleted from repository. Unused
	icons.

2009-05-13  Sancho Lerena <slerena@gmail.com>

	* include/styles/pandora_blackmetal.css: New style with custom headers
	image (used for custom logo). 

	* include/styles/menu.css,
	include/styles/pandora_red.css
	include/styles/pandora_black.css
	include/styles/pandora_width.css
	include/styles/pandora.css: Improved old themes.

	* include/functions_ui.php: Custom style CSS loads last, to allow rewrite
	some CSS menu styles.

	* install.php: Ask if want to DROP database if this exists. Show better
	message about the created password. Don't drop database if not marked in
	step #3.

	* images/black_header.png: Image for blackmetal style.

	* images/MiniLogoArtica.jpg: Image for blackmetal style.

	* general/header.php: Some changes for style. Now displays OpenSource version
	or Enterprise version depending of version.

2009-05-13  Esteban Sánchez  <estebans@artica.es>

	* images/attachment.png: Added to repository.
	
	* images/chart_curve.png, images/chart_bar.png: Replaced with tango icons.

	* operation/incidents/incident.php: Use attachment icon.

2009-05-13  Esteban Sánchez  <estebans@artica.es>

	* images/clean.png, images/fullscreen.png, images/local_component.png,
	images/log-out.png, images/normalscreen.png,
	images/server_export.png: Added to repository. New tango icons.

	* images/application_osx_terminal.png, images/arrow_refresh.png,
	images/asterisk_yellow.png, images/attach.png,
	images/drive_network.png, images/drive_user.png,
	images/page_white_acrobat.png, images/rainbow.png,
	images/telephone.png: Deleted from repository. Unused images.

	* images/add.png, images/application_double.png,
	images/application_edit.png, images/application.png,
	images/book_edit.png, images/calendar_view_day.png,
	images/camera.png, images/email_open.png, images/email.png,
	images/god3.png, images/group.png, images/heart.png,
	images/house.png, images/lupa.png, images/monitor.png,
	images/mouse.png, images/package.png, images/page_white_magnify.png,
	images/page_white.png, images/page_white_text.png,
	images/paste_plain.png, images/pdf.png,
	images/refresh.png, images/reporting.png, images/rosette.png,
	images/script.png, images/server_database.png, images/server.png,
	images/world.png, images/zoom.png: Updated to use tango icons.

	* general/ui/agents_list.php: Added pagination.

	* general/header.php: Logout icon replaced.

	* include/styles/pandora.css: Some styles for tabs.

	* include/functions_db.php: Changed export server icon.

	* operation/events/events.php, operation/snmpconsole/snmp_view.php,
	operation/visual_console/render_view.php,
	operation/agentes/networkmap.php: Changed fullscreen icons.

	* godmode/agentes/configurar_agente.php,
	include/functions_modules.php,
	include/functions_agents.php: Style correction.

2009-05-12  Raul Mateos  <raulofpandora@gmail.com>

	* include/config_process.php: Update build after last changes.
	
	* install.php: Added code to remove database if exists. This was removed
	in a previous commit.

	* images/console/icons/*.png: Updated some icons and added others.

	* pandoradb_data.sql: Updated header.

2009-05-11  Esteban Sánchez  <estebans@artica.es>

	* operation/agentes/estado_agente.php: Sets a variable outside an if.
 	Fixes #2785018

2009-05-11  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* operation/agentes/estado_agente.php: Fixed limits (again)
 	
2009-05-11  Esteban Sánchez  <estebans@artica.es>

	* godmode/agentes/agent_manager.php: Show "None" if no server is assigned.
	Fixes #2768723
	
	* godmode/agentes/configurar_agente.php: Removed direct link to
	farscap.artica.es server. Fixed group tab selection.
	
	* godmode/alerts/alert_list.php: Fixed a notice when there are no agents.
	Fixes #2786519.
	
	* general/header.php: Fixed an error when updating agent configuration
	which was showing all the config in the header. Should be improved for
	other textarea fields.

2009-05-07  Esteban Sánchez  <estebans@artica.es>

	* include/funtions_ui.php: Added get_full_url(). Some changes in
	get_url_refresh() to make it more powerful. The URL is now optional
	in pagination(). It's also possible to give the parameter name
	of the offset so there could be more than one paginations now.

	* operation/agentes/estado_agente.php,
	general/header.php: Changes in get_url_refresh().

	* godmode/agentes/massive_operations.php: Changed edit icon.

	* godmode/agentes/module_manager.php: Enterprise API changes.

	* godmode/agentes/module_manager_editor_network.php: Style corrections.

	* include/styles/pandora.css: Added conf_error class to textarea
	elements.

	* include/functions.php: Added index_array(). Useful to manage database
	results.

	* include/functions_alerts.php: Cast some values to integer.

	* operation/agentes/alerts_status.php: Removed offset parameters,
	used default value.

2009-05-04  Evi Vanoost  <vanooste@rcbi.rochester.edu>
	
	* godmode/agentes/configurar_agente.php: get_agent_id changed and caused
	erroneous behaviour. Fixed it.

2009-05-04  Esteban Sánchez  <estebans@artica.es>

	* extensions/dbmanager.php: Code cleanup, making it easier an without
	unneded loops. Added error message support when querying.
	
	* extensions/dbmanager/dbmanager.css: Use CSS inheritance for cells and
	header of the table.

2009-05-04  Esteban Sánchez  <estebans@artica.es>

	* include/functions_agents.php: Added create_agent(), 
	
	* include/functions_db.php: Renamed dame_agente_id() to get_agent_id ().
	Added process_sql_begin(), process_sql_rollback() and process_sql_commit()
	and use MySQL functions directly because the Pandora cache was avoiding
	more than one execution.

	* include/functions_incidents.php, include/functions_messages.php,
	godmode/agentes/massive_delete_agents.php,
	godmode/agentes/massive_delete_alerts.php,
	godmode/agentes/massive_delete_modules.php,
	godmode/agentes/massive_edit_modules.php,
	godmode/db/db_purge.php,
	include/functions_events.php: Use new transaction functions.
	
	* include/functions_modules.php: Sanitize some values. Added
	create_agent_module_from_network_component(), create_agent_module()
	and get_network_component().
	
	* godmode/agentes/configurar_agente.php: Use get_agent_id() and transaction
	functions.
	
	* reporting/fgraph.php, operation/reporting/reporting_viewer.php: Use
	get_agent_id(). 
	
	* godmode/setup/file_manager.php: Removed unnecesary variable.
	
	* operation/agentes/ver_agente.php: Replaced exit with return on ajax
	operation.
	
	* include/config_process.php: Updated build number.
	
	* include/functions_network_profiles.php: Fixed documentation.

2009-05-02  Sancho Lerena <slerena@artica.es>

	* extensions/dbmanager.php: Fixed problems with quotes.

	* operation/agentes/status_monitor.php: Used module_interval insted deprecated
	tagente_estado.current_interval.

	* operation/agentes/estado_grupo.php: Same as above.

	* operation/agentes/estado_monitores.php: same as above.

	* godmode/agentes/module_manager.php: Uses new server_type field instead old
	server fields.

	* godmode/agentes/configurar_agente.php: Added tab in godmode/edit agent
	to go to a filtered list view per groups from the agent edit view.

2009-05-01  Sancho Lerena  <slerena@artica.es>

	* extensions/dbmanager*: New extensions to interface with Pandora database
	using native SQL syntax. Only for administrator (Godmode extension).

2009-04-30  Jorge Gonzalez  <jorgegonz@artica.es>

	* pandoradb_data.sql: Fixed wrong ';' values from my last commit.

2009-04-29  Jorge Gonzalez  <jorgegonz@artica.es>

	* pandoradb_data.sql: Added 'Web Server' to tconfig_os, Added 'Web' to
	tgrupo, and added 'Pandora FMS Manual' to tlink.

2009-04-29  Jorge Gonzalez  <jorgegonz@artica.es>

	* install.php: fixed typos.

2009-04-29  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated spanish
	translation.

	* include/languages/index.pot: Updated po template.

	* godmode/admin_access_logs.php,
	godmode/agentes/module_manager_editor.php: changed the separator
	character to &raquo;

	* godmode/reporting/map_builder.php: removed dirty characters at the
	begining.

	* godmode/agentes/planned_downtime.php: modified a i18n string.

2009-04-24  Esteban Sánchez  <estebans@artica.es>

	* godmode/agentes/module_manager.php: Added extra parameter to
	enterprise_hook call.
	
	* include/functions_modules.php: Added get_network_component_group_name()
	
2009-04-24  Manuel Arostegui <marostegui@artica.es>

	* operation/agentes/status_monitor.php: Fixed bug #2779382

2009-04-24  Esteban Sánchez  <estebans@artica.es>

	* extras/pandoradb_migrate_v2.x_to_v3.0.sql: Removed local components table
	
	* godmode/servers/manage_recontask_form.php: Added "any" option to
	operating system combo.
	
	* godmode/snmpconsole/snmp_alert.php: Changed alert templates with actions.

2009-04-23  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/functions_reporting.php,
	  operation/reporting/graph_viewer.php, godmode/setup/news.php,
	  godmode/agentes/planned_downtime.php,
	  godmode/modules/manage_network_components.php,
	  godmode/modules/manage_nc_groups.php,
	  godmode/reporting/map_builder.php: Fixed strings to make them
	  standard for translation.

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated PO template.

2009-04-22  Manuel Arostegui <marostegui@artica.es>

	* godmode/servers/manage_recontask_form.php: Fixed bug #2777351

2009-04-22  Manuel Arostegui <marostegui@artica.es>

	* godmode/menu.php: Fixed bug #2770383

2009-04-22  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated PO template.

	* godmode/alerts/configure_alert_template.php: Fixed typos.

2009-04-22  Esteban Sánchez  <estebans@artica.es>

	* pandoradb_data.sql: Use 3.0 for version number
	
	* include/javascript/jquery.pandora.controls.js: Duplicated
	pandoraSelectGroup renamed to pandoraSelectGroupAgent.
	
	* godmode/agentes/massive_config.php,
	godmode/agentes/massive_delete_agents.php,
	godmode/agentes/massive_delete_alerts.php,
	godmode/agentes/massive_delete_modules.php,
	godmode/alerts/alert_compounds.php, godmode/alerts/alert_list.php,
	godmode/reporting/reporting_builder.php: pandoraSelectGroup renamed to
	pandoraSelectGroupAgent.
	
	* godmode/agentes/modificar_agente.php: Tiny changes in remote agent config
	link.

2009-04-22  Manuel Arostegui <marostegui@artica.es>

	* install.php: Fixed bug #2777317

	* godmode/agentes/planned_downtime.php: Fixed bug #2777475

	* godmode/reporting/map_builder.php: Fixed bug #2777347

2009-04-22  Manuel Arostegui <marostegui@artica.es>

	* operation/agentes/sla_view.php: Fixed bug #2777504

2009-04-21  Evi Vanoost <vanooste@rcbi.rochester.edu>

	* include/functions_ui.php: Added get_url_refresh which gets the correct
	url to refresh a page against instead of manually reconstructing for each
	form. Modified process_page_head to use this new function
	
	* general/header.php: Use of new function get_url_refresh. Fixes some
	minor annoyances I had with this refresh when groups were selected with
	a post
	
	* ajax.php: Error message didn't display the right page name
	
	* operation/agentes/estado_agente.php: Fixed bug #2770377

2009-04-21  Sancho Lerena <slerena@gmail.com>

	* operation/servers/view_server.php: New stats for server (threads,
	modules in queue) and new render view (more useful and with tips in head).

	* functions_db.php: Server info server[img] don't return "master" icon.
	This icon is now stored in server[master_img].

2009-04-21  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/pt_BR.po, include/languages/it.mo,
	  include/languages/sk.po, include/languages/pt.mo,
	  include/languages/pt_BR.mo, include/languages/fr.po,
	  include/languages/sk.mo, include/languages/fr.mo,
	  include/languages/ru.po, include/languages/it.po,
	  include/languages/pt.po, include/languages/ru.mo: Updated
	  Brazilian Portuguese, Italian, Slovak, French, Russian and
	  Portuguese translations thanks to Rosetta translators.

	* include/languages/index.pot: Updated po template.

2009-04-21  Jorge Gonzalez  <jorgegonz@artica.es>

        * include/languages/es.po, include/languages/es.mo: Updated
          Spanish translation.

        * include/languages/index.pot: Updated po template.

2009-04-21  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated
	  Spanish translation.

	* include/languages/index.pot: Updated po template.

	* godmode/agentes/module_manager_editor_network.php,
	  godmode/agentes/module_manager_editor_plugin.php: moved an
	  assigned translatable string down to avoid error at language
	  compilation.

2009-04-20  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/module_manager_editor.php,
	godmode/agentes/module_manager_editor_common.php,
	godmode/agentes/module_manager_editor_data.php,
	godmode/agentes/module_manager_editor_network.php,
	godmode/agentes/module_manager_editor_plugin.php,
	godmode/agentes/module_manager_editor_prediction.php,
	godmode/agentes/module_manager_editor_wmi.php,
	godmode/agentes/module_manager.php: Some fixes to allow form
	reutilization.
	
	* include/javascript/jquery.pandora.controls.js: Fixed a typo. Added 
	pandoraSelectGroup control.
	
	* include/javascript/jquery.pandora.js: Separate between auto executed code
	and document ready function.
	
	* include/javascript/pandora_modules.js: Added to repository. Functions to
	use on module editors.
	
	* include/functions_agents.php: Added get_agents().
	
	* include/functions_db.php: Added get_user_first_group(). Changed
	user_access_to_agent() parameters order.
	
	* include/functions_reporting.php: Style corrections.
	
	* include/functions_ui.php: Added doc to print_status_image(). Added 
	print_ui_agents_list() to print a list of agents with a search form and
	a lot of configuration options easily.
	
	* include/functions_ui_renders.php: Added to repository. New API for
	renders on UI components.
	
	* operation/agentes/estado_agente.php: Make table wider.
	
	* godmode/reporting/reporting_builder.php: Replaced exit with return. Use
	pandoraSelectGroup control.
	
	* godmode/servers/manage_recontask_form.php: Style corrections to fit
	Pandora styles.
	
	* godmode/servers/modificar_server.php: Removed a notice from a typo.
	
	* godmode/setup/setup.php: Fixed table data indexes. Removed javascript
	code from visual setup.
	
	* godmode/setup/setup_visuals.php: Some strings changed. Style correction.
	
	* godmode/menu.php: Added policies enterprise menu option.
	
	* images/policies.png: Added to repository.
	
	* godmode/agentes/modificar_agente.php: Style correction by using pandora
	functions.

	* godmode/agentes/massive_operations.php: Fixed tab styles that was showing
	wrong the .

	* godmode/agentes/manage_config_remote.php: Changes in
	user_access_to_agent()

	* general/ui/agents_list.php: Added to repository. Reusable render for an
	agent list.

2009-04-20  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated PO template.

	* operation/messages/message.php: Fixed typo.

2009-04-18  Sancho Lerena <slerena@artica.es>

	* include/functions_reporting.php: Altered order of agent icon
	status (unknown shown after waerning and critical, not before)

	* operation/agentes/estado_generalagente.php: Agent group is
	not shown twice.

	* operation/agentes/estado_agente.php: module status count shown
	only when > 0.

	* operation/agentes/estado_monitores.php: Dont show module type.

	* godmode/agentes/module_manager.php: Show icon of non-init module
	in godmode view, to easily identify non-init modules.

	* godmode/servers/manage_recontask_form.php: Fixed server assigment
	on recon task.

2009-04-17  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated PO template.

2009-04-14  Esteban Sanchez  <estebans@artica.es>

	* operation/servers/view_server.php: Removed notice message when no
	servers were found.
	
	* reporting/fgraph.php: Use get_db_value_filter().
	
	* include/styles/pandora.css: Updated copyright date.
	
	* include/styles/menu.css: Added policies enterprise style.
	
	* reporting/pChart/pChart.class: Fixed a infinite loop that happened
	sometimes on drawScale().
	
	* include/config_process.php: Updated build version 
	
2009-04-13  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/htmlawed.php: HTML cleaner-upper. If compact_header is set 
	will actually strip the HTML for less bandwidth usage.
	
	* include/functions_ui.php: If compact_header is set, it will strip 
	whitespace out of the included files
	
	* include/functions_config.php, godmode/setup/setup_visuals.php,
	godmode/setup/setup.php: Made checkboxes into radioboxes. Split
	files were resetting the values every time.

2009-04-13  Ramon Novoa  <rnovoa@artica.es>

	* operation/agentes/networkmap.php: Added support for group filtering
	  and node navigation (clicking on the edges).

2009-04-13  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/agent_manager.php: Fixed an error when an agent was
	created without name. Added support for new server assignment via server
	name instead of lot of comboboxes. Added os preview.
	
	* godmode/agentes/configurar_agente.php: Added support for new server
	assignment via server name. Do not show tabs on creation mode. Some 
	translatable strings replaced with common ones.
	
	* godmode/agentes/modificar_agente.php: Use Pandora agents.
	
	* godmode/modules/manage_nc_groups.php,
	godmode/setup/news.php,
	godmode/modules/manage_network_components.php,
	godmode/reporting/map_builder.php,
	godmode/agentes/planned_downtime.php: Some translatable strings replaced
	with common ones.
	
	* godmode/servers/modificar_server.php: Updated to changes in tserver. Use
	get_server_info() for that.
	
	* include/functions_db.php: Updated to changes in tserver about
	server_type field on get_server_info(). Style correction.
	
	* include/functions_servers.php: Added to repository. Servers API.
	
	* operation/servers/view_server.php: Style correction.
	
	* extras/pandoradb_migrate_v2.x_to_v3.0.sql, pandoradb.sql: Less space on
	server_name field on tagente.

2009-04-13  Sancho Lerena  <slerena@artica.es>

	* images/console/icons/server_warning.png: Added missing icon.
	
2009-04-13  Jorge Gonzalez <jorgegonz@artica.es>

	* images/console/icons/smalldot.png: Modified icon for the maps.

2009-04-13  Jorge Gonzalez  <jorgegonz@artica.es>

	* images/console/background/white_boxed.jpg,
	  images/console/background/white_boxed2.jpg: Added/modified one
	  background for the maps.

2009-04-13  Jorge Gonzalez  <jorgegonz@artica.es>

        * images/console/icons/gateway.png,
	images/console/icons/routerap.png,
	images/console/icons/pbx_warning.png,
	images/console/icons/pbx_ok.png, images/console/icons/hub_bad.png,
	images/console/icons/bridge_ok.png,
	images/console/icons/gateway_warning.png,
	images/console/icons/routerap_warning.png,
	images/console/icons/nat_bad.png,
	images/console/icons/gateway_ok.png,
	images/console/icons/routerap_ok.png,
	images/console/icons/bridge_bad.png,
	images/console/icons/pbx_bad.png,
	images/console/icons/gateway_bad.png,
	images/console/icons/hub_ok.png,
	images/console/icons/routerap_bad.png,
	images/console/icons/nat_ok.png, images/console/icons/hub.png,
	images/console/icons/nat.png, images/console/icons/bridge.png,
	images/console/icons/hub_warning.png,
	images/console/icons/nat_warning.png,
	images/console/icons/bridge_warning.png,
	images/console/icons/pbx.png: Added several images for the maps.

2009-04-13  Esteban Sanchez  <estebans@artica.es>

	* godmode/setup/file_manager.php: Fixed javascript code on directory
	select.

2009-04-13  Esteban Sanchez  <estebans@artica.es>

	* general/footer.php: Removed Firefox icon. Style correction.

	* godmode/agentes/agent_manager.php: Replaced &gt; with &raquo;. Style
	correction when setting bold attributes.

	* godmode/agentes/manage_config_remote.php,
	godmode/agentes/modificar_agente.php, godmode/agentes/module_manager.php,
	godmode/alerts/alert_list.php, godmode/db/db_audit.php,
	godmode/db/db_event.php, godmode/db/db_info.php, godmode/db/db_main.php,
	godmode/db/db_purge.php, godmode/db/db_refine.php,
	godmode/groups/configure_group.php, godmode/groups/group_list.php,
	godmode/modules/manage_nc_groups.php,
	godmode/modules/manage_network_components.php,
	godmode/modules/manage_network_templates.php, 
	godmode/modules/manage_network_templates_form.php,
	godmode/modules/module_list.php, godmode/profiles/profile_list.php,
	godmode/reporting/graph_builder.php, godmode/reporting/map_builder.php,
	godmode/reporting/reporting_builder.php, godmode/servers/manage_export.php,
	godmode/servers/manage_export_form.php,
	godmode/servers/manage_recontask.php,
	godmode/servers/manage_recontask_form.php,
	godmode/servers/modificar_server.php, godmode/setup/setup_visuals.php,
	godmode/setup/links.php, godmode/setup/news.php,
	godmode/snmpconsole/snmp_alert.php, godmode/users/configure_user.php,
	godmode/users/user_list.php, operation/agentes/alerts_status.php,
	operation/agentes/estado_generalagente.php,
	operation/agentes/estado_agente.php, operation/agentes/estado_grupo.php,
	operation/agentes/estado_ultimopaquete.php,
	operation/agentes/exportdata.php, operation/agentes/networkmap.php,
	operation/agentes/status_monitor.php, operation/agentes/tactical.php,
	operation/events/events.php, operation/incidents/incident.php,
	operation/incidents/incident_detail.php,
	operation/incidents/incident_statistics.php,
	operation/messages/message.php, operation/reporting/custom_reporting.php,
	operation/reporting/graph_viewer.php,
	operation/reporting/reporting_viewer.php, operation/servers/view_server.php,
	operation/users/user.php, operation/users/user_edit.php, 
	operation/users/user_statistics.php, operation/visual_console/index.php,
	godmode/agentes/agent_template.php: Replaced &gt; with &raquo;

	* operation/agentes/datos_agente.php: Return instead of exit

	* include/javascript/jquery.pandora.controls.js: Added pandoraSelectOS
	control to preview the OS icon on a select.

	* include/functions_reports.php: Fixed a bug on delete_report() that
	returns error when the report has no content.

	* include/functions_ui.php: Removed border attribute on print_os_icon().
	Some fixes to meta refresh element on process_page_head(). Fixed 
	format_filesize() when length is zero.
	
	* godmode/menu.php: Replaced link to file manager. Added enterprise hook.

	* godmode/setup/file_manager.php: Renamed from obfuscated name filemgr.php

	* include/styles/pandora.css: Textarea width reduced to 99%

	* godmode/setup/setup.php: Added get_os_icon AJAX operation.
	
	* images/mimetypes/, images/mimetypes/zip.png, images/mimetypes/image.png,
	images/mimetypes/unknown.png, images/mimetypes/directory.png: Added to
	repository. Mime type icons.

	* extras/pandoradb_migrate_v2.x_to_v3.0.sql: Removed date comments.
	
	* include/functions_filemanager.php: Added to repository. Minimal API for
	file manager system.

2009-04-10  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: get_group_agents fixed search
	
	* operation/agentes/estado_agente.php: Small style changes and bugfixes

2009-04-09  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_reporting.php: Added get_agent_module_info which gives
	valuable information that can be re-used and expanded
	
	* include/functions_events.php, include/functions_ui.php: The chunk_split 
	only works with set width removed for wide css. General cleanup
	
	* include/functions_db.php: get_group_agents allows search now
	
	* include/styles/pandora_width.css, include/styles/pandora.css, 
	include/styles/menu.css: The menu for the agent editor is now even with the
	operation menu and also takes up the whole width
	
	* operation/agentes/tactical.php: Changed for width. Now takes up the wide
	
	* operation/agentes/estado_agente.php: Rewritten. Now outputs variable
	width table and is cleaner

2009-04-08  Jorge Gonzalez  <jorgegonz@svn.gnome.org>

	* images/console/icons/dotmin_ok.png,
	  images/console/icons/appliance_ok.png, 
	  images/console/icons/ap_ok.png,
	  images/console/icons/dotmin.png, 
	  images/console/icons/appliance.png,
	  images/console/icons/dotmin_bad.png, 
	  images/console/icons/ap.png,
	  images/console/icons/switch.png,
	  images/console/icons/appliance_bad.png,
	  images/console/icons/ap_bad.png,
	  images/console/icons/switch_bad.png,
	  images/console/icons/switch_ok.png: Added icons for the visual
	  console.

2009-04-07  Esteban Sanchez  <estebans@artica.es>

	* operation/snmpconsole/snmp_view.php: Fixed full screen links. Fixes
	#2728007

2009-04-06  Evi Vanoost <vanooste@rcbi.rochester.edu>

	* reporting/fgraph.php: Simplified agent access to reduce looping
	
	* reporting/pChart/pChart.class: Found problem where the graph was
	looping with certain data when the Scale1 was exactly 1

2009-04-06  Sancho Lerena <slerena@artica.es>

	* godmode/setup/setup.php
	* godmode/setup/setup_visuals.php
	* include/config_process.php,
	* include/functions_config.php: Added new parameter for status icons. 
	Old config (fontpath and attachment dir are now manageable in setup).

	* include/functions_ui.php,
	godmode/servers/modificar_server.php
	operation/agentes/status_monitor.php
	operation/agentes/estado_agente.php
	operation/agentes/bulbs.php
	operation/agentes/estado_monitores.php
	operation/agentes/tactical.php
	operation/servers/view_server.php: Added support for custom status
	images.

	* images/status_sets: Added three new status images pack: Default color
	icons, faces and color with text.
	
	* reporting/fgraph.php: Temporal FIX for problem in access graphs that
	takes 100% Apache CPU !!!. Need final fix for this.
	
2009-04-03  Sancho Lerena <slerena@artica.es>

	*  include/functions_alerts.php: Fixed another notice.

	* include/functions_reporting.php,
	* include/functions_db.php: Fixed a notice who breaks the PDF report.
	Added homeurl preffix to some includes that breaks PDF reporting.

	* pandora_console_upgrade: Fixedd issue with old-style config.php.

	* godmode/alerts/alert_list.php: Fixed bad combo values (ID insted names).

2009-04-02  Sancho Lerena <slerena@artica.es>

	* pandoradb.sql: Final DB changes proposed for closing this month the DB
	scheme. tagente-> new server_name field to assign server (old fields will
	be removed).  talert_templates has two new types (warning, critical).
	tevento has "user_comment" new field. Tserver has three new fields, 
	server_type (so some old fields will be deleted), threads and queued_modules
	this last two are for statistical options. Tusuario add language type to
	override global language.
	
	* update_manager/main.php: Minor changes for correct ACL usage. Non PM
	users could see in what revision it the system, but only that.
	
	* pandoradb_migrate_v2.x_to_v3.0.sql: Updated script for new DB changes.
	
	* general/noaccess.php: Added footer and ending div. Page was very ugly
	when showing noaccess errors, nobody see it ???.
	
	* godmode/menu.php: A LOT of ACL fixes on several options.
	
	* godmode/agentes/agent_manager.php: Fixed a crazy floating icon.
	
	* godmode/agentes/manage_config_remote.php: A LOT of changes, rewriting
	stuff, because was not working. This also adds a lot of ACL checks. 
	
	* godmode/agentes/massive_config.php, massive*: ACL changes.
	
	* godmode/agentes/modificar_agente.php: Fixed ACL problems.
	
	* godmode/agentes/module_manager_editor.php: Fixed bad module categories for
	some types (data, plugin and prediction).
	
	* godmode/alerts/alert_list.php: Fixed ACL problem.
	
	* godmode/reporting/graph_builder.php: Added ACl restriction for 
	non-viewable agents for current user. Seems to be a problem with data
	with more than 2 sources.
	
	* godmode/reporting/map_builder.php: ACL checks improved.
	
	* godmode/reporting/reporting_builder.php: ACL checks added (was missing), 
	some code ported from 2.1, other is new. New fields shown in list.
	
	* include/functions.php: Fixed the annoying bug of "bad counters" in
	function human_time_description_raw(). Function used,format_numeric() should
	not be used never to calculate nothing, only to print formatted strings.
	
	* include/functions_db.php: Added function user_access_to_agent() to know
	if a given user has access to a given agent.
	
	* include/functioins_report.php: get_report() should let admin to watch any
	report. Fixed.
	
	* agentes/alerts_status.php: Fixed ACL problem for view alert.
	
	* operation/incidents/incident.php: Bad call for pagination() was giving
	problems to pagination call. Somebody changes pagination() interface and 
	make this broken. Please if you change any interface, be sure that is compatible
	with old code or make a post in the list about this !
		
	* godmode/users/user_edit.php: Additional ACL check to do not let anybody
	to watch non accesible users. Even for see the username or description.
	
	* reporting/pchart_graph.php:Progress bar shown text in white when > 60%.
	
2009-04-02  Esteban Sanchez  <estebans@artica.es>

	* includandora_console/godmode/agentes/massive_config.phpe/functions_config.php: Fixed a bug when the theme was not
	given on update_config().

	* godmode/setup/setup.php: Removed unneccesary include of
	functions_themes.php

2009-04-02  Esteban Sanchez  <estebans@artica.es>

	* include/functions_reporting.php: Added alert API on
	get_agent_alerts_reporting_table() to solve a notice error.

2009-04-02  Esteban Sanchez  <estebans@artica.es>

	* extras/pandoradb_migrate_v2.x_to_v3.0.sql: Removed id on tconfig
	inserts.

	* godmode/agentes/configurar_agente.php: Min and max module values
	were not being updated.

	* godmode/alerts/configure_alert_template.php: Removed duplicated
	example. Added support for next warning and critical template types.

	* include/functions_ui.php, include/functions_alerts.php: Added new
	alert template types.

	* include/functions_db.php: temp_sql_delete() moved out of
	delete_agent() because there were errors if it was calling more than
	once.

	* include/functions_reports.php: Fixed doc for get_reports().

	* include/config_process.php: Updated build number.

2009-04-02  Esteban Sanchez  <estebans@artica.es>

	* reporting/fgraph.php: Removed id_agente reference on combined
	graphs. Fixes #2724895

2009-04-01  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/alert_compounds.php: Fixed group All.

	* godmode/alerts/configure_alert_compound.php: Fixed group All.
	"Compound" labels renamed to "Correlated".

	* include/styles/pandora.css: Removed invisible class, which was
	duplicated from common.css.

	* include/functions_db.php: safe_acl_group() now handles group All.
	Fixes #2725019 and #2723089

2009-04-01  Esteban Sanchez  <estebans@artica.es>

	* pandoradb.sql, extras/pandoradb_migrate_v2.x_to_v3.0.sql: Added
	priority field to talert_templates and removed from
	talert_template_module.

	* godmode/alerts/alert_list.php: Fixed SQL notice when fetching
	groups.

	* godmode/alerts/alert_templates.php: Added priority to the template
	tooltip.

	* godmode/alerts/configure_alert_template.php: Added priority field to
	alert templates.

	* include/functions_db.php: Style correction.

2009-04-01  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/pt_BR.po, include/languages/es.po,
	  include/languages/it.mo, include/languages/ro.po,
	  include/languages/pt_BR.mo, include/languages/es.mo,
	  include/languages/fr.po, include/languages/ro.mo,
	  include/languages/de.po, include/languages/he.po,
	  include/languages/zh_CN.po, include/languages/fr.mo,
	  include/languages/de.mo, include/languages/ru.po,
	  include/languages/he.mo, include/languages/zh_CN.mo,
	  include/languages/it.po, include/languages/ru.mo: Updated
	  Brazilian Portuguese, Spanish, Romanian, French, Hebrew, German,
	  Simplified Chineese, Italian, and Russian translations thanks to
	  rosetta contributors.

	* include/languages/index.pot: Updated po template.

2009-03-31  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/module_manager_editor_plugin.php: Added plugin
	components select. Fixes #2707900.

	* godmode/alerts/alert_list.php: Fixed an error when showing agents
	list.

	* include/functions_events.php: Added get_similar_events_ids() to get
	events which are similars (same description and agent module). Renamed
	process_event_delete() and process_event_validate(). Added
	similars flag to both delete_event() an validate_event().

	* include/functions_reporting.php: Added timestamp parameter to select
	statements to fix #2707841.

	* include/functions_ui.php: Added a class to pagination divs.

	* operation/agentes/estado_generalagente.php: Style correction.
	Removed period on agent access graph.

	* operation/agentes/exportdata.php: Fixed many notices by including
	config.php instead of using global. Style corrections.

	* operation/events/events.php: When the events were grouped and
	deleted or validated, only one was being updated. Added AJAX support
	to validate and delete single operations. Style corrections. Fixed
	#2707872

	* reporting/fgraph.php: Many fixes on agent access graph. Fixes
	#2707856

	* reporting/pandora_graph.php: Added a couple of properties to the
	class.

	* reporting/pchart_graph.php: Do not add the grid or axis labels on
	charts if asked. Show no progress bar if value is 0 and a title is
	shown. Style corrections.

	* include/styles/pandora_width.css: Renamed to panoramic theme. Added
	style for event_control element.

	* include/styles/pandora.css: Added style for event_control element.

	* godmode/modules/manage_network_components.php: Fixed table width for
	panoramic theme.

	* ajax.php: Added remote_addr to config array.

2009-03-31  Sancho Lerena  <slerena@artica.es>

	* include/functions_visual_map.php,
	 godmode/reporting/map_builder.php: Two new types of items for map graphs:
	Simple value and progress bar. Progress bar uses height to set the higher 
	possible limit of the value to calculage the percentile. 

	* reporting/pchart_graph.php: Progress bars now have percentile text without
	shadow (more readable). Fixed round cut of prev. commit.

2009-03-31  Sancho Lerena  <slerena@artica.es>

	* include/styles/menu.css: Added icons for dashboard option (enterprise).
	
	* include/functions_config.php: Added support for round_corner option.
	
	* include/functions_db.php: Temporal support (not really work) for enterprise
	servers webcheck/goliat and inventory. This code should be corrected when
	make final dbstruct changes for new server_type numeric field.
	
	* include/functions_reports.php: Fixed an annoying notice.
	
	* index.php: Dashboard is not entered automatically on login in enterprise.
	
	* operation/events/events.php: Events from group 0 always displayed.
	
	* operation/servers/view_server.php: Icon for server status is now smaller.
	
	* operation/menu.php: New enterprise hook for Dashboard menu entry.
	
	* reporting/pchart_graph.php: Round corners on progressbar acording to
	setup option. Color of border is smoother.
	
	* godmode/setup/links.php: Fixed ACL condition (AND -> OR).
	
	* godmode/setup/setup.php: Fixed ACL. Moved visual options to other setup.
	
	* godmode/setup/filemgr.php: Fixed ACL condition (AND -> OR).
	
	* godmode/agentes/modificar_agente.php: Support for IP address search.
	
	* godmode/menu.php: Added new setup section for visual options.
	
	* godmode/setup/setup_visuals.php: New setup section for visual options.
	
	* images/mod_web_proc.png,
	  images/screenshot_not_found.jpg,
	  images/mod_web_data.png,
	  images/server_web.png: New icons added for enterprise options.

2009-03-31  Sancho Lerena <slerena@artica.es>

	* operation/events/events.php: Fixed and allow to everybody to see
	events coming from group 0 (Old server code put events here).

2009-03-30  Esteban Sanchez  <estebans@artica.es>

	* include/functions_ui.php: Added print_message(),
	print_error_message() and print_success_message().

	* godmode/users/configure_user.php,
	operation/users/user_edit.php,
	godmode/reporting/map_builder_wizard.php: Use print_error_message() or
	print_success_message() when there was no other option.

	* godmode/modules/manage_network_templates.php: Fixed CSV export
	notice errors. Style corrections.

	* godmode/modules/manage_network_templates_form.php: Style
	corrections.

	* include/functions_network_profiles.php: Added to repository. Network
	profiles function API.

2009-03-27  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: Fixed group functions that would return
	data even if the user didn't have access to the group. Added 
	safe_acl_group which filters out groups the user doesn't have access to
	out of an array of groups. Added check_acl which deprecates give_acl
	(new naming scheme)

2009-03-27  Esteban Sanchez  <estebans@artica.es>

	* include/functions_ui.php: Put template details icon on the left of
	the cell.

	* operation/agentes/alerts_status.php: Fixed validation errors. Moved
	validation to the top before reading the alerts. Added some size info
	to the tables.

2009-03-27  Esteban Sanchez  <estebans@artica.es>

	* pandoradb.sql, extras/pandoradb_migrate_v2.x_to_v3.0.sql: Fixed
	constraint restrictions on alert actions.

	* godmode/users/configure_user.php: Many bugfixes when creating and
	editing.
	
	* include/auth/mysql.php: Fixed return value on create_user() because
	it does not return an insert id.

	* include/functions_db.php: Call debug() on SQL errors to get a
	backtrace.

	* include/functions_ui.php: Added a return value to debug().

	* operation/users/user_edit.php: Renamed user_update().

2009-03-26  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_reporting.php: Fixed security vulnerability
	in get_group_stats. Thanks to Eric Ross for pointing it out.

2009-03-26  Sancho Lerena <slerena@artica.es>

	* pandoradb.sql: SLA parameters now accept float values.
	
	* extras/pandoradb_migrate_v2.x_to_v3.0.sql: SLA parameters now accept 
	float values after a table update.
	
	* godmode/setup/filemgr.php: New feature: a file manager, accesible only by
	pandora Administrators. Have some security checks but is not intended to be
	used by anyone not admin.
	
	* godmode/menu.php: Added filemanager and fixed minor problem under SNMP
	Godmode (fake submenu).

2009-03-26  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/jquery.ui.dialog.js: Added to repository.

	* index.php, general/header.php: Replaced overlay with jquery UI
	dialog.

	* godmode/agentes/module_manager.php: Use print_moduletype_image().

	* images/close.png, images/transparent.png,
	include/javascript/jquery.overlay.js: Removed from repository.

	* include/javascript/jquery.pandora.js: Use dialog instead of overlay.

	* include/styles/images/dialog-*: Added to repository. Dialog images.

	* include/styles/pandora.css: Removed overlay styles.

	* include/styles/dialog.css: Added to repository. Dialog styles.

	* include/functions_ui.php: Show description on
	print_moduletype_icon() title.

	* operation/agentes/estado_agente.php: Return control instead of exit.

	* operation/agentes/estado_ultimopaquete.php: Style corrections and
	usage of pandora database functions.

2009-03-26  Esteban Sanchez  <estebans@artica.es>

	* godmode/reporting/reporting_builder.php: Some small fixes which
	didn't allow creating reports or adding contents.

2009-03-26  Esteban Sanchez  <estebans@artica.es>

	* godmode/users/configure_user.php: Complete rewritten to fix minor
	errors and fit the Pandora style.

	* include/auth/ldap.php: Removed process_user_isadmin(). Renamed
	process_user_password() to update_user_password(). Renamed
	process_user_info to update_user(). update_user_password() does not
	require old password anymore.

	* include/functions_db.php: Added empty checks on
	create_user_profile().

	* include/functions_ui.php: print_error_message() renamed to
	print_result_message().

	* godmode/agentes/configurar_agente.php,
	godmode/alerts/alert_actions.php, godmode/alerts/alert_commands.php,
	godmode/alerts/alert_compounds.php, godmode/alerts/alert_list.php,
	godmode/alerts/alert_templates.php,
	godmode/alerts/configure_alert_template.php,
	godmode/modules/manage_nc_groups.php,
	godmode/modules/manage_network_templates.php,
	godmode/modules/manage_network_templates_form.php,
	godmode/reporting/map_builder_wizard.php,
	godmode/reporting/reporting_builder.php,
	operation/agentes/alerts_status.php, operation/events/events.php,
	operation/incidents/incident.php,
	operation/incidents/incident_detail.php,
	operation/messages/message.php, operation/snmpconsole/snmp_view.php,
	operation/users/user_edit.php: Renamed print_result_message(). Some
	translatable strings reused to simplify i18n work.
	
	* godmode/users/user_list.php: Renamed print_result_message(). Use
	cross.png for deletion links. Style corrections.

	* godmode/setup/news.php: Renamed print_result_message(). Use
	process_sql_delete() instead of direct mysql_query.

	* godmode/reporting/map_builder.php: Renamed print_result_message().
	Style correction on process_sql_update().

	* godmode/alerts/configure_alert_compound.php: Renamed
	print_result_message(). Fixed steps_clean div.
	
	* godmode/setup/setup.php: Return control to index instead of exit.

2009-03-25  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* operation/incidents/incident.php: Fixed small issue

2009-03-25  Sancho Lerena <slerena@artica.es>

	* estado_agente.php: Correct agent down status bug. Added search
	on description also, and search text parameter is moved on pagination links
	
	* estado_generalagente.php: Agent access graph has more height now.
	
	* event_statistics.php: removed unnecesary header. Better layout.

	* include/functions.php: human_time_description_raw() return "now" when
	data is 0 or empty.
	
	* db/db_main.php: Bigger graph.
	
2009-03-25  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: Made get_server_info more informational
	
	* operation/servers/view_server.php: Uses new get_server_info layout
	
	* operation/agentes/tactical.php: Use print_table and get_server_info
	
	* operation/menu.php: Removed incident search
	
	* operation/incidents/incident_search.php: Removed - now sits in incident
	
	* operation/incidents/incident.php: Added more search capabilities
	
	* operation/visual_console/index.php: Relative width and alignment
	
	* operation/visual_console/render_view.php: Small fixes

2009-03-25  Sancho Lerena <slerena@artica.es>

	*  extras/pandoradb_migrate_v2.x_to_v3.0.sql: Added field missing in 
	ttrap (This gives the problems with SNMP Alerts in trunk version (Manu!)).


2009-03-25  Esteban Sanchez  <estebans@artica.es>

	* include/functions_alerts.php: Typo errors on "proces". Fixed an
	error on create_alert_command() parameters.

	* godmode/alerts/alert_commands.php: Fixed sec parameter on delete
	link.
	
	* godmode/alerts/configure_alert_command.php,
	godmode/alerts/configure_alert_compound.php,
	godmode/alerts/configure_alert_template.php,
	godmode/alerts/configure_alert_action.php: Fixed textarea sizes.

2009-03-25  Esteban Sanchez  <estebans@artica.es>

	* include/functions_alerts.php: Finished the alerts API by removing
	useless and focus of problems clean_*(). All the functions now uses
	process_sql_*().

	* godmode/alerts/alert_actions.php,
	godmode/alerts/alert_commands.php: Adapted to changes in
	functions_alerts.php.

	* godmode/alerts/configure_alert_template.php: Fixed default action
	updating when it's set to None. Fixed textarea height.

	* include/functions_reports.php: Added to repository. API to manage
	user reports.

	* include/functions_db.php: Moved get_reports() to
	functions_reports.php. Escape ` on get_db_value(). Use
	format_array_to_update_sql() on process_sql_update().

	* godmode/reporting/reporting_builder.php: Use functions from reports
	API.

2009-03-25  Esteban Sanchez  <estebans@artica.es>

	* include/auth/mysql.php: Fixed an error on get_user_id() which was
	returning integer values.

2009-03-24  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: Made get_server_info more accurate as far as
	exact module types etc.
	
	* operation/servers/view_server.php: Return dash in case there is no lag
	
	* operation/servers/view_server_detail.php: Style fixes

2009-03-24  Esteban Sanchez  <estebans@artica.es>

	* general/pandora_help.php: Added support for enterprise help files.

	* include/javascript/pandora.js: Renamed pandora_help() to
	open_help().

	* include/functions_ui.php: Renamed event function on
	print_help_icon(). Removed deprecated pandora_help().

	* godmode/agentes/module_manager.php: Added enterprise hooks.

	* godmode/agentes/module_manager_editor.php: Added categories
	construction here. Added enterprise hooks.

	* godmode/agentes/module_manager_editor_common.php: Replaced
	deprecated pandora_help() with print_help_icon(). Moved categories
	construction to module_manager_editor.

	* include/config_process.php: Updated build version.

	* include/styles/pandora.css: Fixed textarea height.

	* godmode/agentes/manage_config_remote.php,
	godmode/agentes/massive_config.php,
	godmode/agentes/massive_edit_modules.php,
	godmode/agentes/module_manager_editor_network.php,
	godmode/agentes/module_manager_editor_plugin.php,
	godmode/agentes/module_manager_editor_prediction.php,
	godmode/agentes/module_manager_editor_wmi.php,
	godmode/agentes/planned_downtime.php, godmode/alerts/alert_list.php,
	godmode/alerts/configure_alert_compound.php,
	godmode/modules/manage_network_components_form_network.php,
	godmode/modules/manage_network_components_form_wmi.php,
	godmode/reporting/map_builder.php,
	godmode/servers/manage_export_form.php,
	godmode/servers/manage_recontask_form.php, godmode/servers/plugin.php,
	godmode/setup/setup.php, operation/agentes/alerts_status.php,
	operation/agentes/tactical.php,
	godmode/agentes/agent_manager.php: Replaced deprecated pandora_help()
	with print_help_icon().

2009-03-24  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_compound.php: Fixed clean up div for
	variable width styles. Min and max fire values commented because it's
	not implemented yet.

	* include/config_process.php: Keep database connection resource in
	config.

	* include/functions.php: Use mysql_real_escape_string(), replacing
	deprecated function.

	* include/functions_alerts.php: Updated to use process_sql_*
	functions. Many fixes done such as updating a template name or
	escaping the value when duplicating a template.

	* include/functions_ui.php: Fixed an error on refresh header when
	using other web servers like Cherokee.

	* operation/agentes/estado_agente.php: Style corrections.

	* reporting/fgraph.php: Fixed a typo on grafico_db_agentes_paquetes().

	* pandoradb.sql, extras/pandoradb_migrate_v2.x_to_v3.0.sql: Added
	foreign key on treport_content and id field on
	talert_compound_actions.

2009-03-24  Sancho Lerena  <slerena@gmail.com>

	* module_manager_editor.php,
	module_manager_editor_common.php: Fixed problem with id_module
	affecting plugin, wmi and prediction modules.

2009-03-23  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/massive_edit_modules.php: The module selection is
	now done using cascade selects instead of having a confusing tree on
	the select.

	* godmode/alerts/alert_list.php: Fixed a bug when getting the latest
	module value.

	* godmode/alerts/alert_templates.php: Fixed an error that didn't allow
	deletion on some cases. Added an option to duplicate a template
	easily.

	* godmode/alerts/configure_alert_template.php: Added template
	duplication support. Fixed a mismatch on field1, field2 and field3
	which required to have a default action to be updated. This values are
	not loaded anymore from default action.

	* godmode/db/db_purge.php: Many styles correction. Use pandora
	functions for the bottom table.

	* include/functions_alerts.php: Added duplicate_alert_template().

	* include/functions_db.php: Added a parameter to get_agent_modules()
	to enable or disable the return of indexed values.

	* operation/agentes/sla_view.php: Style correction.

	* operation/agentes/ver_agente.php: Added support for indexed flag on
	get_agent_modules_json AJAX operation.

2009-03-20  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_incidents.php: Style change
	
	* include/functions.php: Never is not correct in some cases. Unknown is 
	a better expression.
	
	* include/functions_ui.php: Added style attribute (default to nowrap)
	
	* include/functions_db.php: get_server_info now processes modules outside
	the loop. Less queries and now returns load as well
	
	* include/functions_html.php: print_submit_button now accepts arrays
	
	* operation/servers/view_server.php, operation/incidents/incident.php: 
	Better use of functions and style

2009-03-18  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/massive_edit_modules.php: Added to repository. New
	interface to update modules massively. Should be improved lately.

	* reporting/pchart_graph.php: Fixed mess with color pallete.

	* godmode/agentes/massive_operations.php: Fixed sec parameter on
	links. Changed label. Added link to the new modules editor.

	* godmode/agentes/module_manager.php: Fixed an error when showing
	module group titles.

	* godmode/agentes/module_manager_editor.php: Decode values from
	components.
	
	* godmode/agentes/module_manager_editor_wmi.php: Bigger WMI query
	input text.

	* include/functions_db.php: Fixed a bug when using group on
	format_array_to_where_clause_sql().

	* include/functions_modules.php: Fixed an error on
	get_network_components() which was not filtering fine. Many fixes in
	get_network_component_groups() so it works better now. Added
	update_agent_module().

2009-03-18  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/alert_list.php: Put tooltip before the template name
	so it's always in the same place.

	* include/javascript/jquery.pandora.controls.js: Fixed a bug on
	pandoraSelectAgentModule which was getting wrong fields.

	* include/functions_html.php: Do not add id counter on checkboxes if
	it's 0.

	* operation/agentes/estado_agente.php: Create agent button was going
	to a wrong place.

	* reporting/fgraph.php: Fixed graphic_agentaccess() which was not
	showing anything.

	* pandoradb_data.sql: Removed Compound only from talert_commands.

2009-03-17  Esteban Sanchez  <estebans@artica.es>

	* reporting/fgraph.php: Fixed a bug on graphic_error() which always
	showed image_problem.png. Fixed period labels shorter than days. Fixed
	an error when fetching data on grafico_modulo_sparse() which was
	causing to show nothing. Do not show a legend on graph_event_module().
	Fixed x axis interval on boolean charts.

2009-03-17  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/massive_operations.php: Added to repository. New
	page to group massive operations in a single page.

	* godmode/agentes/massive_config.php: Renamed from manage_config.php.

	* godmode/agentes/massive_delete_agents.php: Renamed from
	manage_delete.php.
	
	* godmode/agentes/massive_delete_modules.php: Added to repository.
	Interface to delete modules.

	* godmode/agentes/massive_delete_alerts.php: Added to repository.
	Interface to delete alerts.

	* godmode/agentes/agent_manager.php: Fixed table width to make it
	variable.

	* godmode/agentes/module_manager.php: Rewritten to use Pandora
	functions.

	* include/javascript/jquery.pandora.controls.js: Added
	pandoraSelectAgentAlert. Renamed pandoraSelectAgent to
	pandoraSelectAgentModule. Get only needed fields to make it quicker
	and avoid showing disabled modules.

	* godmode/alerts/alert_list.php: Adapted to changes in
	jquery.pandora.controls.js.

	* godmode/menu.php: Group some pages into new "Massive operation"
	submenu.

	* images/copy.png: Replaced with a better icon.

	* images/delete_agents.png, images/delete_alerts.php,
	images/delete_modules.php: Added to repository.

	* include/styles/pandora.css: Set color on input.sub

	* include/styles/pandora_width.css: Make menu_tab_frame wider.

	* include/functions_db.php: Removed deprecated
	dame_nombre_grupomodulo(). Added support to __() to receive multiple
	parameters so translatable strings can handle now printf format
	characters.

	* include/functions_modules.php: Added delete_agent_module().

	* operation/agentes/ver_agente.php: Allow fields to be passed to
	get_agent_modules_json AJAX operation.

	* reporting/fgraph.php: Replaced sprintf() with __(). Some casts
	added. Show a sparse chart even if it has no max/min value.

	* godmode/modules/manage_network_components_form_network.php,
	operation/agentes/estado_ultimopaquete.php,
	godmode/modules/manage_network_components_form_wmi.php: Use
	get_modulegroup_name().

	* godmode/agentes/configurar_agente.php,
	godmode/modules/manage_network_components.php: Style correction.

2009-03-17  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* operation/snmpconsole/snmp_view.php: Fixes bug #2661421

2009-03-17  Esteban Sanchez  <estebans@artica.es>

	* include/functions_html.php: Do not add id counter if it's 0 on
	print_select. It's a backwards compatibility workaround until we
	take a decision on correct HTML elements. Fixed comment styles, please
	do not add comments in the same line.

2009-03-17  Jorge Gonzalez  <jorgegonz@svn.gnome.org>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated PO template.

2009-03-17  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/manage_config.php: Select dependant modules when an
	alert is selected.

	* include/functions_agents.php: Copy selected alerts on
	process_manage_config().

2009-03-16  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/logoff.php: Cleaned up invalid html

	* general/login_page.php: Clean up ampersands
	
	* include/functions_html.php: Fixes bug #2661439
	
	* index.php: Style cleanup
	
	* godmode/modules/manage_network_templates.php: Export function
	gives a CSV file of the templates. Import pending although you
	can use it already to import back into pure SQL.

2009-03-16  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/help/en/help_planned_downtime.php,
	include/help/es/help_planned_downtime.php: Added more information
	about the scheduled downtime.

2009-03-16  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/alert_list.php,
	godmode/agentes/module_manager_editor_network.php: Fixes to work in
	IE7.

	* godmode/alerts/configure_alert_template.php: Fixed an error when the
	template was not created and causing the example or field values to
	not shown. Fixed javascript for IE7.

	* include/styles/ie.css: Fixes for IE7.

	* include/styles/pandora.css: Added style for classes added.	

2009-03-13  Esteban Sanchez  <estebans@artica.es>

	* godmode/db/db_purge.php: Style correction.

	* godmode/modules/manage_nc_groups.php: Complete rewritten.

	* godmode/modules/manage_nc_groups_form.php: Use pandora functions.
	Needs more love.

	* godmode/reporting/map_builder.php: Some fixes to make it work in
	IE7. 

	* include/javascript/jquery.pandora.controls.js: Execute automatically
	instead of on ready. Typo fixed that was not allowing to work on IE.

	* include/styles/ie.css: Bit of style corrections.

	* include/functions_ui.php: Added the ie.css code at the bottom, so it
	has preferences over other styles.

2009-03-12  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions.php: Added safe_output_xml which makes variables
	clean for output converting html entities into numeric entities understood
	by all XML validators
	
	* operation/events/events_rss.php: Used safe_output_xml where needed.

2009-03-12  Esteban Sanchez  <estebans@artica.es>

	* reporting/fgraph.php: Fixed interval in combined graphs. Fixed
	alert min and max values. Fixed data retrieval on boolean charts and a
	bug that was not drawing this charts.
	
	* pandoradb_data.sql: First new now has the current date.

	* operation/servers/view_server.php: Fixed progress bar height.

2009-03-12  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Fixed an undefined variable error.
	
2009-03-12  Esteban Sanchez  <estebans@artica.es>

	* reporting/pandora_graph.php: Added to repository. New interface to
	abstract pandora from the chart engines. This would make easier a
	engine changing in the future.

	* reporting/pchart_graph.php: Added to repository. Specific class to
	use pChart engine for Pandora. First working version.

	* reporting/pChart/pCache.class, reporting/pChart/pDaita.class: Added
	to repository. pChart engine
	
	* reporting/pChart/pChart.class: Added to repository. pChart engine
	slightly modified and adopted to Pandora needs.

2009-03-12  Esteban Sanchez  <estebans@artica.es>

	* include/auth/mysql.php: Added a cache to is_user_admin().

	* include/config_process.php: Changed build version. Load l10n tables
	before extensions.
	
	* include/functions_config.php: Fixed an error on update_config() that
	fails to update when the value has changed. Fixed style updating
	also.

	* include/functions_db.php: Added GROUP BY token to
	format_array_to_where_clause_sql().

	* include/functions_ui.php: Added a flag to debug() to allow disabling
	the backtrace output.

	* operation/agentes/tactical.php: Fixed tab. Makes percentage images a
	bit taller.

	* ChangeLog.2008: Added to repository. Stripped ChangeLog history.

2009-03-11  Esteban Sanchez  <estebans@artica.es>

	* include/functions_reporting.php: Fixed an error on get_group_stats()
	that gives wrong monitor status count because it was counting some
	modules twice.

2009-03-10  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_visual_map: Small fixes to render backgrounds with 
	spaces in filename correctly
	
	* operation/visual_console/index.php, godmode/reporting/map_builder.php: 
	Fixes to render icons correctly.
	
2009-03-09  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/javascript/pandora.js: Moved agent_changed here from map_builder
	because it's quite a useful function.
	
	* include/functions_visual_map.php: In case you want no labels (a lot of
	icons on a graph) just set the color to anything not starting with #
	
	* godmode/reporting/map_builder_wizard.php: Added the possibility to add
	modules as well using the wizard. Very useful if you have a switch.
	
	* godmode/reporting/map_builder.php: Fixed some issues with the ajax thing
	and fixed issue #2527894.

2009-03-05  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* godmode/reporting/map_builder_wizard.php: Fixed small error when no
	valid id was passed.
	
	* godmode/reporting/map_builder.php: Modified code so that width and
	height can be specified for all types of graphics. Fixed code where
	width and height wouldn't be passed in the database

2009-03-05  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/auth/dev.php: Updated examples
	
	* include/auth/ldap.php: Moved stuff in a more logical order
	and globalized $ldap_cache since now it is called from a function
	so it needs not be local

2009-03-05  Sancho Lerena  <slerena@artica.es>

	*  include/functions_reporting.php: Fixed notice.

2009-03-05  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/auth/ldap.php: Fixed a small issue to check on a variable
	
	* include/functions_extensions.php: Fixed an issue since errors 
	produced with @function will filter into custom error handlers
	
	* include/functions_ui.php: Added RSS link in the header to display
	RSS feed availability in RSS-enabled browsers
	
	* operation/events/events_marquee.php, 
	operation/events/events_statistics.php: require_once so it won't load
	the same function files twice
	
	* operation/events/events_rss.php: Better error handling. Require_once
	required because it was giving a problem with certain function files.	

2009-03-05  Esteban Sanchez  <estebans@artica.es>

	* include/functions_config.php: Fixed auth files inclusion that may
	fail in some cases.

2009-03-05  Esteban Sanchez  <estebans@artica.es>
	
	* godmode/reporting/map_builder_wizard.php: Style correction. Use
	Pandora functions instead of SQL. Force elements to have an image by
	removing "None".

	* include/functions_config.php: Added to repository. New file to
	manage config operations such as creation and updating values or
	updating the whole config array. It even sets id_user so no more usage
	of $_SESSION is required from outside.

	* include/config_process.php: Cleanup and usage of functions in
	functions_config.php. Updated build.

	* index.php: Updated to changes in config_process.php,

	* godmode/setup/setup.php: All config process has been moved to
	config_process.php which uses functions in functions_config.php.

	* include/styles/pandora.css: Styling for pre elements. New help
	class.

2009-03-04  Sancho Lerena <slerena@artica.es>

	* operation/agents/tactical.php: Layout adapted to bigger event table.

	* extras/: New directory with extra contents (scripts, tools, samples)
	
	* index.php: Add new permission check for /attachment directory. Probably
	could be extended and wrapped into a function. This should be only called 
	once, this is the reason why is placed here and not in config_process.
	
	* pandora_console_upgrade: Force MYSQL run, even if SQL return error (useful
	for applying over a older 3.0 version for example).
	
	* pandoradb_data.sql: Was missing some tconfig variables.
	
	* extras/*.sql: Missing somre tconfig variables and other minor issues fixed
	
	* extensions/update_manager/main.php: Description of update manager patch
	wider. Probably needs more formatting in the future.
	
	* extras/sample_login.php: Sample on how to implement autologin feature.
	
	* footer.php: I hope solve the frakkin image problem.
	
	* godmode/agents/agent_manager.php: proper ACL check notice.
	
	* godmode/alerts/alert_list.php: Fixed notice.
	
	* godmode/reporting/map_builder.php: Added link to wizard and item count.
	
	* godmode/reporting/map_builder_wizard.php: Added new feature, a wizard
	to populate the visual map, using agents from a combo, depending on the
	map selected. Could have a lot of improvements, it's a basic start. Allow
	to choose agents and image maps and space between images. Puts in a reticle
	automatically adjusting at 600px width.
	
	* godmode/setup.php: Checkbox for trap_forward was bad, fixed.
	
	* config_process.php: Fixed version to 3.0-dev
	
	* functions_html.php: Default of 0 in text boxes makes them unusable on
	default values, funny :-)
	
	* include/functions_reporting.php: Fixed a notice on unknown variable
	on function get_group_stat().
	
	* operation/agentes/alerts_status.php: Filter on module status is made now
	with combos, like the rest of the filters in the GUI.
	
	* operation/events/events.php: a missing div makes graph float outside the
	filter box. TODO: Hidder filter makes free-width style buggy here.
	
	* operation/reporting/reporting_viewer.php: Fixed layout issue.
		
	* operation/visual_console/render_view.php: Added ACL check.
	
2009-03-04  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/manage_config.php: Fixed a javascript error that
	doesn't allow to perform any operation.

	* godmode/alerts/configure_alert_action.php: Fixed javascript file
	inclusion.

	* godmode/reporting/map_builder.php: Fixed typo when updating a
	layout.

	* images/download.png: Added to repository.

	* include/functions_agents.php: Style correction.

	* include/functions_html.php: Added additional options to
	print_input_image().

	* include/functions_ui.php: Added format_filesize().

2009-03-04  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_reporting.php, 
	operation/reporting/reporting_viewer.php: Function renaming, small fixes
	in some code and documentation.
	
	* include/functions_db.php: Better checks on get_agent_events
	
	* operation/reporting/reporting_xml.php: Sancho sent me this solution
	since people apparently use this and run out of memory.

2009-03-04  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/configurar_agente.php: Fixed module interval update.
	Fixed a bug that shows an error message when updating a module.

	* include/functions_html.php: Fixed a little bug in print_input_text()
	that avoided showing a "0" as a value. Renamed a variable to avoid
	parameter collisions.

2009-03-04  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/module_manager_editor.php: Fixed filter field on
	get_module_components ajax operation and order the results.

	* include/functions.php: Added enterprise_include_once().

	* include/functions_modules.php: Use get_db_all_rows_filter() on
	get_network_component(). Also added fields to this function.

2009-03-03  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/logon_ok.php: Minor edit in language and colors for warning
	
	* include/functions_reporting.php: Changed get_group_stats for better
	queries based on query debugging.
	
	* include/functions_db.php: Change get_server_info for better queries
	based on query debugging. Documentation updates and function updates
	
	* operation/agentes/tactical.php: Removed a row with duplicate info
	
	* operation/reporting/reporting_viewer.php, 
	operation/reporting/reporting_xml.php, include/functions_modules.php,
	godmode/agentes/module_manager_editor.php:
	Function renaming.
	
2009-03-03  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: Add id to separator
	div.

	* include/styles/pandora.css, include/styles/pandora_width.css: Added
	style to separator div. Fixes a UI breakage.

2009-03-03  Esteban Sanchez  <estebans@artica.es>

	* general/main_menu.php: Operation and godmode menus files includes
	now the dependant files.

	* godmode/agentes/modificar_agente.php: Removed unnecessary
	require()
	
	* godmode/alerts/alert_list.php: Avoid notice for undefined index when
	calling max(). Added option to delete the template.

	* godmode/alerts/configure_alert_template.php,
	godmode/alerts/alert_templates.php: Fixed field2_recovery and
	field3_recovery updating.

	* operation/menu.php, godmode/menu.php: Require functions_menu.php.

	* include/config_process.php: Updated build version.

	* include/functions.php: Keep time in a static variable on
	get_system_time().

	* include/functions_db.php: Now a custom operation can be passed to
	format_array_to_where_clause_sql() if the field key is numeric.

	* include/functions_reporting.php: Return float value on
	get_agentmodule_sla(). Added required files.

	* include/functions_ui.php: Show template name on format_alert_row().
	Style correction.

	* operation/agentes/export_csv.php: Style correction.
	
	* operation/events/export_csv.php: Use pandora functions to fetch
	results. Fixed auth part. Style correction.

	* operation/reporting/custom_reporting.php: Fixed enterprise include.

	* operation/reporting/reporting_xml.php: Fixed auth part.

	* index.php: process_page_head() may looked for uninitialized
	$config["refr"].

	* include/styles/pandora_width.css: Fixed style for ol.steps

2009-03-02  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_reporting.php: Rewrote get_agentmodule_sla with
	faster calculations (count in SQL).
	
	* include/functions_ui.php: Added print_moduletype_icon that prints the
	whole (correct) icon including rollover text
	
	* include/functions_db.php: Updated some documenation and removed 
	deprecated functions that are now in the auth parts. Renamed 
	return_status_agent_module to get_agentmodule_status
	
	* operation/agentes/sla_view.php: Made it use the 2.0 SQL and HTML
	functions
	
	* godmode/agentes/configurar_agente.php: Fixed tab links
	
	* operation/events/events.php, include/functions_visual_map.php,
	operation/agentes/networkmap.php, operation/agentes/status_monitor.php,
	operation/agentes/estado_grupo.php, operation/agentes/ver_agente.php,
	operation/reporting/custom_reporting.php, 
	operation/reporting/reporting_viewer.php,
	operation/reporting/reporting_xml.php, godmode/setup/links.php,
	godmode/setup/setup.php, godmode/reporting/map_builder.php,
	godmode/reporting/reporting_builder.php: Fixed renamed functions

2009-03-02  Esteban Sanchez  <estebans@artica.es>

	* include/functions_menu.php: Added to repository. Functions for menu.

	* operation/menu.php, godmode/menu.php: Added class to menu due to
	changes in print_menu().

	* general/main_menu.php: temp_print_menu() moved to functions_menu.php 

	* include/functions_themes.php: Added to repository. Implement
	functions relative to themes (only CSS themes list at this moment).

	* include/styles/pandora.css, include/styles/pandora_black.css,
	include/styles/pandora_minimal.css, include/styles/pandora_red.css:
	Added author, name and description comments to adopt to new
	get_themes() interface.

	* include/styles/pandora_width.css: Improved and make lighter by
	simply rewrite some classes.

	* include/functions.php: Added is_ajax().

	* godmode/agentes/module_manager_editor.php,
	godmode/alerts/alert_actions.php, godmode/alerts/alert_commands.php,
	godmode/alerts/alert_compounds.php, godmode/alerts/alert_list.php,
	godmode/alerts/alert_templates.php, godmode/groups/group_list.php,
	godmode/reporting/map_builder.php,
	godmode/reporting/reporting_builder.php,
	operation/agentes/estado_agente.php, operation/agentes/ver_agente.php,
	operation/events/events.php, operation/messages/message.php: Use
	is_ajax()

	* godmode/setup/setup.php: Use enterprise_include() instead of manual
	checking. Use get_css_themes() to show the theme list.

	* include/styles/common.css: Added to repository. Minimal styles to
	make pandora works and common with all the CSS themes.

	* include/functions_ui.php: Added common.css file.

2009-02-27  Esteban Sanchez  <estebans@artica.es>

	* godmode/groups/configure_group.php: Removed javascript console.log

	* godmode/reporting/map_builder.php: Fixed typo on file_exists()

	* include/functions.php: Added format_integer_round().

	* include/functions_db.php: Added fields to get_db_row(). Array values
	to make "IN" SQL statements were in wrong function. Added support for
	order in format_array_to_where_clause_sql().

	* include/functions_events.php: Added get_event(). Fixed
	print_event_type_img() which causes double printing in some cases.

	* operation/events/events.php: Added get_event_tooltip AJAX operation.
	Style correction by replacing $row with $event.

2009-02-26  Evi Vanoost  <vanooste@rcbi.rochester.edu>
	
	* godmode/setup/setup.php: Unchecked checkboxes don't transfer any value
	so must default to 0 in order to work.

2009-02-26  Esteban Sanchez  <estebans@artica.es>

	* include/functions_events.php: Added get_events() function. Replaced
	"..." with html entity and reuse previously calculated value.

	* include/functions_reporting.php: Fixed get_agent_module_sla() to
	allow no max value to be checked. That was causing some errors on
	monitor reports.

	* operation/agentes/sla_view.php,
	operation/reporting/reporting_xml.php,
	operation/reporting/reporting_viewer.php: Do not use max value on
	monitor SLA.
	
	* operation/events/events.php: Replaced exit for return.

	* include/functions_db.php: Added support for arrays in
	format_array_to_update_sql() that will be transformed to a "IN ()"
	statement.

2009-02-26  Esteban Sanchez  <estebans@artica.es>

	* include/config_process.php, index.php: Added generated timer count as
	a HTML comment at the bottom.

	* include/functions_ui.php: Style correction.

2009-02-26  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Added support for queries elapsed time in
	print_database_debug().

	* operation/events/events.php: Style correction.

	* reporting/fgraph.php: Allow boolean graphics to get a starting date.

	* general/footer.php: Use config['debug'] instead of developer_bypass.

2009-02-25  Esteban Sanchez  <estebans@artica.es>

	* include/functions_ui.php: Fixed typo that makes incorrect argument
	list in debug().

2009-02-25  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_reporting.php: Thanks to Esteban's functions found out
	some bad performers. Fixed it
	
	* include/auth/ldap.php: Calling get_system_time() 800 times is too much.
	Moved it to a variable.

2009-02-25  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Do not show errors on sql_error_handler()
	if debug flag is active. Removed return flag to print_database_debug()
	because it was causing memory allocation errors. For the same reason,
	the table is printed each 100 elements.
	
	* index.php: Run print_database_debug() after the flush.

	* include/functions.php: Removed deprecated pandora_debug()

2009-02-25  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Added database debug support. If the debug
	flag in config is set, a table with all the queries done in a page is
	shown. To do so, add_database_debug_trace() and print_database_debug()
	were added.

	* include/functions_ui.php: Added debug() function which shows a
	given variable content and a traceback which can be toggled to make
	developers life easier.

	* index.php: Print database debug table.

	* include/styles/pandora.css: Styles for debug functionallity.

2009-02-24  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: Fixed where clause
	
	* images/groups_small/printer.png: Added printer icon to groups since
	it might be useful to create a separate printer group

2009-02-24  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/config_process.php: Added compact_header. If you want to
	save on server hits and increase performance (slightly) enable it.
	Page loads (on my system) ~500ms faster and feels faster since it 
	doesn't block the page while waiting on css and javascript

	* include/functions_agents.php: Moved process_manage_config from 
	configurar_agente.
	
	* include/functions_ui.php: Added compact_header functionality
	
	* include/functions_html.php: Fixed some id issues which caused
	manage_config to not work correctly. id's can't have [] in them.
	Also fixed the comparison for numeric (string to int) comparisons
	
	* include/styles/pandora.css: Moved @import to functions_ui.php
	
	* godmode/agentes/manage_config.php: Fixed ids and some validation
	
	* godmode/agentes/configurar_agente.php, godmode/agentes/agent_manager:
	Fixed HTML output and use functions for images
	
	* godmode/setup/setup.php: Added compact_header to setup

2009-02-24  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Fixed a bug in
	format_array_to_where_clause_sql() when only offset and limit where
	given. A new parameter was added to solve it, so the behaviour is a
	bit different now (take a look to the doc examples). Changes were also
	done in other functions to reflect this new situation.

	* include/functions_alerts.php, include/functions_modules.php: Updated
	to changes in format_array_to_where_clause_sql()

	* include/functions_ui.php: Added a class to each link of the
	paginator. Style correction.

2009-02-24  Esteban Sanchez  <estebans@artica.es>

	* include/auth/mysql.php: Added get_user_id(). Removed field check on
	create_user(). Allow to pass an structure to the functions and use
	get_user_id() when needed.

	* include/auth/ldap.php: Added get_user_id().

	* include/functions_db.php: Improved get_group_users() to return real
	users instead of tusuario_perfil values. Also a filter parameter was
	added.
	
	* include/functions_messages.php: Use get_user_id() on
	create_message_group() because get_group_users() now returns
	user structures. Style correction.

2009-02-24  Esteban Sanchez  <estebans@artica.es>

	* include/functions_db.php: Added get_db_row_filter(). Added
	documentation for get_db_all_rows_sql_filter().
	Removed get_db_array() since it was already implemented in
	get_db_value_filter() and did not matches the code guidelines. Style
	correction of variable names.

2009-02-23  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/jquery.pandora.controls.js: Changed agent and
	module selector to allow any kind of object instead of only an id.
	Tiny changes to allow multiple elements in a page.

	* include/functions_html.php: Added a separator for duplicated select
	elements (it's useful sometimes to get this number with javascript and
	using a separator helps)

	* godmode/agentes/manage_delete.php,
	godmode/agentes/manage_config.php: Fixed agent and group selector to
	fits changes in pandora.controls.js.

2009-02-23  Esteban Sanchez  <estebans@artica.es>

	* include/functions_html.php: Fixed id counter on print_select.

	* include/functions_db.php: Documentation style correction.

2009-02-23  Esteban Sanchez  <estebans@artica.es>

	* godmode/reporting/map_builder.php: Use process_sql_update and
	process_sql_insert instead of generating SQL sentences. Added
	wz_jsgraphics to draw the lines. Do not draw any lines if no map is
	selected.

	* include/functions_db.php: Moved return_status_layout() to
	functions_visual_map.php (and renamed to get_layout_status()). Allow
	passing a string to get_db_all_rows_filter()

	* include/functions_visual_map.php: Moved get_layout_status() from
	functions_db.php. Added get_user_layouts().

	* operation/visual_console/index.php: Use get_user_layouts() to fetch
	layouts.

	* operation/visual_console/render_view.php: Added wz_jsgraphics and
	changed direct config manipulation with require_javascript_file().

	* godmode/reporting/reporting_builder.php: Style correction.

2009-02-23  Esteban Sanchez  <estebans@artica.es>

	* images/pixel_black.png: Added to
	repository.
	
	* include/functions_reporting.php: Fixed in_array() parameter order. 

2009-02-20  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* pandoradb_migrate_20_to_21.sql, pandoradb.sql: Fixed going up/down
	strings
	
	* godmode/setup/setup.php: Fixed event hours display
	
	* operation/events/events.php: Fixed several major bugs with pagination
	and the new event types.
	
	* include/functions.php, include/functions_ui.php, 
	include/functions_html.php: Moved pagination and print_help_tip to 
	functions_ui.php. Repeat id's are now fixed backwards compatible. 
	Also fixed a bug in print_select where type comparisons against would 
	fail since PHP evaluates strings to (int) 0
	
	* include/functions_events.php: Added print_event_type_img () and altered
	the other functions to work with it
	
2009-02-20  Esteban Sanchez  <estebans@artica.es>

	* styles/pandora.css: Added input.add to a list which was missing.
	Aligns labels to the left.

	* pandoradb_data.sql: Fixed link to ArticaST.

2009-02-19  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* pandoradb_migrate_20_to_21.sql, pandora_db.sql: Altered tmensajes for
	unixtime
	
	* general/header.php: New messages function added flashing 
	acknowledgment in case of new messages
	
	* general/logon_ok.php: Since messages are now in header, they don't need
	to be there per se
	
	* images/close.png, images/transparent.png: Background and close button
	for overlays.
	
	* include/javascript/jquery.pandora.js: Used for loop for flashing thing
	and added overlay function
	
	* include/javascript/jquery.overlay.js: You'll need this for overlay
	
	* include/functions_messages.php: Message functions are here. Messages are
	fully abstracted so they can be drop-in replaced with something else
	
	* include/functions_ui.php: Small fixes. Not necessary to load en language
	files for javascript since they're empty, it only adds to load/interpret
	
	* include/functions_db.php: Added get_group_users and get_db_array. Useful
	
	* include/functions_html.php: Small doc fixes and fixed table heads
	
	* include/styles/pandora.css: Added Overlay classes

	* ajax.php: We need to call safe_url_extraclean for cross scripting
	
	* operation/messages/message.php: Rebuilt to use new functions
	
	* operation/menu.php: New message link instead of group link
	
	* operation/visual_console/render_view.php: Fixed conflict with timer
	
	* index.php: Added div for overlay (not in pure mode) and fixed erroneous
	div in pure mode.
	
2009-02-19  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/manage_delete.php: Fixed an error when no agent is
	selected.

2009-02-19  Esteban Sanchez  <estebans@artica.es>

	* include/functions_ui.php: Added require_css_file(),
	require_javascript_file() and require_jquery_file() to add CSS,
	javascript and jQuery files to the header easily without changing
	config object. A path parameter is addded to allow the use on
	enterprise code.

	* include/functions_db.php: Added
	get_db_value_filter(), get_db_all_rows_filter() and
	process_sql_delete(). Fixed delete_agent() style and use these
	functions. Added process_page_head() from functions_ui.php and changed
	a bit the config javascript object part.

	* include/functions_custom_graphs.php: Get results indexed by id on
	get_user_custom_graphs().

	* include/functions.php: Moved process_page_head to functions_ui.php.
	
	* godmode/agentes/manage_delete.php: New interface to perform massive
	agents deletion.

	* godmode/menu.php: Added new option to massive agents deletion.

	* general/main_menu.php, godmode/agentes/manage_config.php,
	godmode/agentes/module_manager_editor.php,
	godmode/agentes/planned_downtime.php,
	godmode/alerts/alert_compounds.php, godmode/alerts/alert_list.php,
	godmode/alerts/configure_alert_compound.php,
	godmode/alerts/configure_alert_template.php,
	godmode/reporting/map_builder.php, operation/agentes/networkmap.php,
	operation/reporting/reporting_viewer.php,
	operation/visual_console/render_view.php: Use new functions in include
	CSS and javascript files.

	* index.php: Bit of style when printing the header so the HTML can be
	readed easily in a editor.

	* include/javascript/pandora.js: Added a variable to determine the
	enterprise directory.

	* include/styles/pandora.css: Added style for manage_delete.php

2009-02-18  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Removed from repository. Agent
	alerts manager is now done in alerts/alert_list.php

	* godmode/agentes/manage_config.php, godmode/alerts/configure_alert,
	godmode/agentes/configurar_agente.php: Use alerts/alert_list.php
	instead of deleted agentes/alert_manager.php.

	* godmode/alerts/alert_list.php: It can handle now a list of agents or
	be included by configurar_agente. Now it's a single page to manage all
	the alerts defined in agents.

	* godmode/reporting/map_builder.php: Javascript style correction.

	* include/javascript/jquery.pandora.controls.js: Added
	pandoraSelectAgent which allows the loading of a module list from an
	agent list.

	* include/styles/pandora.css: Styles for alert_list.

	* include/functions_agents.php: Added options to
	get_agent_alerts_compound() and get_agent_alerts_simple() to add extra
	user filtering.

	* pandoradb.sql, pandoradb_migrate_20_to_21.sql,
	include/functions_alerts.php: Actions in an alert module has now id or
	they cannot be removed.

	* include/functions_db.php: format_array_to_where_clause_sql() can now
	get limit and offset values.

	* include/functions_html.php: Removed select- prefix to print_select
	elements because it was breaking javascript code. Needs more works on
	that.

	* operation/agentes/estado_agente.php: Added
	get_agent_module_last_value AJAX operation.

2009-02-17  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/login_ok.php, operation/visual_console/index.php,
	operation/visual_console/render_view.php: Small cosmetic fixes
	
	* include/functions_visual_map.php: Cosmetic fixes and put the if/elseif
	statements in a simpler switch statement
	
	* include/functions_db.php: dame_grupo_icono is now get_group_icon

2009-02-17  Sancho Lerena  <slerena@artica.es>

	* pandoradb.sql: treport_content, changed report type to string to allow
	new report types without altering DB schema. Added id_agent for supporting
	reports based on agent ids.  Tplugin new field for plugin type in order to
	support generic Nagios plugins.
	
	* pandoradb_migrate_20_to_21.sql: Updated with last changes.
	
	* module_manager_editor_common.php: Removed some ugly labels :-)
	
	* reporting_builder.php: New report (Agent detailed and grouped 
	event/alerts). Added support to add descriptions in each block.
	
	* plugin.php: Support for new plugin type option.
	
	* config_process.php: Build update.
	
	* functions.php: Updated new report type.
	
	* functions_db.php: Added support for new report type.
	
	* functions_reporting.php: Fixed problem with enterprise. Added new function
	to support new reports.
	
	* events.php: Support for grouping events. Fixed graph problem. Added quick
	search link to event fulltext.
	
	* reporting_viewer.php: Added support for adding descriptions in each block.
	Also show new report type.
	
	* fgraph.php: Fixed problem in event graph.

2009-02-17  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/login_page.php: Fixed HTML and use print_image function
	
	* include/functions.php: Added version compare for alternative to
	double encoding HTML for PHP < 5.2.3
	
	* include/functions_ui.php: Check for empty string on print_string_substr
	so we don't print empty spans
	
	* include/functions_html.php: Better validation and correct output on
	print_input_text_extended. Now accepts an array for attributes
	
	* operations/user/user.php, operations/user/user_edit.php, 
	godmode/user/user_list.php: Small cosmetic fixes
	
	* index.php: flush and print closing html tag on exits. This prevents
	automatic flushing to print tags after </html>.

2009-02-17  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/module_manager_editor.php: Added
	get_module_components operation to AJAX interface. Avoid error
	reporting on snmprealwalk so the JSON doesn't fail. Added support for
	component group selection. Do nothing if the selected component is
	zero.

	* godmode/agentes/module_manager_editor_common.php: Added
	add_component_selection() which makes the task of adding a module
	component to the editor easier and common. It also now filters based
	on component groups first.

	* godmode/agentes/module_manager_editor_network.php,
	godmode/agentes/module_manager_editor_wmi.php: Use
	add_component_selection() instead of duping the code.

	* include/styles/pandora.css: Added style to component elements.

	* include/functions_db.php: Avoid numeric field names on
	format_array_to_where_clause_sql().

	* include/functions_modules.php: Added get_network_components() and
	get_network_component_groups().

2009-02-16  Raul Mateos  <raulofpandora@gmail.com>

	* include/config_process.php: Update build after last changes.
	
	* operation/events/events.php: Now the legend is shown only if there are
	events, just a cosmetic change.

2009-02-16  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/jquery.pandora.controls.js: Added to repository.
	New file to hold all common jQuery Pandora operations. Currently it
	holds a generic process to loads a list of agents from a group
	dropdown menu.

	* godmode/agentes/manage_config.php: Loading spinners moved next to
	the label because it was causing some ugly flickers due to 100%
	width elements. Use code from jquery.pandora.controls.js.

	* godmode/alerts/alert_compounds.php: Rewritten to be more user
	friendly. Filtering is now possible. New operations like
	enable/disable or delete are now available.

	* include/styles/pandora.css: Added style for alert_compounds.php.

	* include/functions.php: Make offset parameter optional in
	pagination(). Style correction.

	* include/functions_alerts.php: Added delete_alert_compound().

2009-02-16  Jorge Gonzalez  <jorgegonz@artica.es>

	* godmode/agentes/module_manager_editor_common.php: Changed string
	  so it is the same as other used before.

	* godmode/agentes/configurar_agente.php: Fixed typo.

	* include/languages/pt_BR.po, include/languages/nl.mo,
	include/languages/es.po, include/languages/it.mo,
	include/languages/pt_BR.mo, include/languages/es.mo,
	include/languages/da.po, include/languages/de.po, include/languages/he.po,
	include/languages/eu.po, include/languages/da.mo, include/languages/de.mo,
	include/languages/he.mo, include/languages/eu.mo, include/languages/nl.po,
	include/languages/it.po: Updated translations from Rosetta.

	* include/languages/index.pot: Updated po template.

2009-02-16  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Moved AJAX interface for
	get_agent_alerts_simple operation here.

	* godmode/agentes/manage_config.php: Complete rewritten to give
	support to new alert system and a new improved UI.

	* godmode/alerts/configure_alert_compound.php: Removed AJAX code
	relative to groups and agents. Include jQuery and style files with the
	new way.
	
	* godmode/groups/group_list.php: Moved AJAX interface for
	get_group_agents operation here.

	* include/styles/pandora.css: Added styling for new manage config
	interface. Added style for fieldset elements.

	* include/functions_alerts.php: Added filter parameter to
	get_alerts_agent_module(). Added
	copy_alert_agent_module_to_agent_module().

	* include/functions_db.php: Added special character * to
	get_agent_modules() to get all the row. Added
	format_array_to_where_clause_sql() to transform an array of values to
	a WHERE clause. Use this function in process_sql_update().

	* include/functions_modules.php: Added to repository. New file to add
	modules operation functions. Added copy_agent_module_to_agent()

	* operation/agentes/ver_agente.php: AJAX interface for
	get_agent_modules_json can now receive an additional filter.

2009-02-13  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/logon_ok.php: Simplified and added correct ampersand tags
	
	* general/footer.php: Now use print_image function to print image
	
	* general/main_menu.php: Wrapped JS into CDATA
	
	* include/functions_events.php: Use print_image to print images. Use
	multibyte so Farsi/Arabian names don't mess up when cut. Also added
	&shy; tags every 8 characters to the Event Description so that long module
	names (like GigabitEthernet) don't break the table layout.
	
	* include/functions.php: Moved pandora_help to functions_ui.php, return
	valid refresh links and don't double encode safe_input (otherwise &amp;
	gets encoded as &amp;amp;)
	
	* include/functions_ui.php: Added print_help_icon and deprecated 
	pandora_help (new style function naming)
	
	* include/functions_html.php: Partially rewrote print_image for fully
	compatible functionality. Much simplified as well.
	
	* extensions/update_manager.php: Print out correct link and image tag
	
	* operation/agentes/networkmap.php: Is now correct HTML. Should work in
	all compliant browsers. If IE6 still doesn't work, upgrade
	
	* operation/agentes/tactical.php: Use print_image for images.

2009-02-13  Sancho Lerena  <slerena@artica.es>

	* operation/events/events.php: Added new feature: Group similar event by
	showing the event and the total repeated times.
	
	* operation/agentes/export_csv.php, 
	operation/agentes/exportdata.php: Fixed problems with old timestamp.
	
	* operation/agentes/estado_monitores.php: Fixed link to module edition.

2009-02-12  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/footer.php, general/links_menu.php: _new is invalid. Use _blank 

	* include/config_process.php: Updated error texts for better English
	
	* include/calendar.php: Removed since nobody uses it anymore
	
	* include/functions.php: Modified process_page_header to not load
	wz_jsgraphics by default (it's too heavy and hardly used). Deprecated
	no_permission and unmanaged_error (since they're not used)
	
	* include/styles/timeentry.css, include/styles/pandora.css, 
	include/styles/ie.css: Merged these styles together so there is no extra
	query for 2 css classes
	
	* operation/reporting/reporting_viewer.php: Removed comparison since
	time comes from the client and if the clock is a bit off it gives error.
	Also removed reference to timeentry.css
	
	* godmode/alerts/alert_list.php: Uses new method to load css and jquery
	which prevents error of <link> tags being in body
	
	* godmode/agentes/planned_downtime.php: Removed timeentry reference and 
	fixed HTML in between.

2009-02-12  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/jquery.tablesorter.js,
	include/javascript/jquery.tablesorter.pager.js: Added to repository.
	Missing files for compound alerts editor.

2009-02-12  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_compound.php: Added support to
	update alert elements. Also default operator for first element is NOP.

	* include/functions_alerts.php: Added delete_alert_compound_elements().

2009-02-11  Sancho Lerena  <slerena@artica.es>

	* pandoradb_migrate_20_to_21.sql: Fixed typo.

2009-02-11  Esteban Sanchez  <estebans@artica.es>

	* general/main_menu.php, include/styles/menu.css: Selected menu style
	is done with a CSS classs. Slide effect removed. Submenus have now
	white background.

	* godmode/agentes/alert_manager.php: Allow creation of alerts without
	actions which have sense in compound alerts.

	* include/javascript/jquery.pandora.js: Added showMessage() function.

	* godmode/agentes/module_manager_editor.php: Use new showMessage()
	jQuery function.

	* godmode/alerts/configure_alert_compound.php: Added to repository.
	New compound alert editor interface.

	* godmode/alerts/alert_compounds.php: Added to repository. Compound
	alert list.

	* godmode/alerts/configure_alert_template.php: Better style for steps
	of the editor.

	* godmode/menu.php: Added compound alerts option. Changed default page
	on Manage alerts.

	* include/styles/pandora.css: Added style for editor steps. Added new
	generic classes.

	* include/functions.php: Added a new line when creating script list.

	* include/functions_agents.php: Fixed alert tables fields. Renamed
	get_agent_alerts_compound() and improved the returning value of
	get_agent_alerts().

	* include/functions_alerts.php: Added new functions to manage compound
	alerts. Avoid SQL errors when using process_sql functions.

	* include/functions_reporting.php: Temporary disabled compound alert
	reports.

	* include/functions_ui.php: Fixed format_alert_row() to fit compound
	alerts.

	* operation/agentes/alerts_status.php: Allow compound alert
	validation. Removed effect of cluetip.

	* pandoradb.sql, pandoradb_migrate_20_to_21.sql: New compound alert
	tables (talert_compound, talert_compound_elements and
	talert_compound_actions).
	
	* godmode/alerts/alert_list.php: Added to repository. Shows a list of
	all the alerts defined. Would be improved in the future to allow
	sorting and filtering.

	* index.php, godmode/snmpconsole/snmp_alert.php,
	include/functions_db.php: Code style correction.

	* godmode/agentes/configurar_agente.php: Removed old compound alerts
	code

2009-02-11  Sancho Lerena <slerena@artica.es>

	* godmode/reporting/reporting_builder.php: Added 3-month period

2009-02-10  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/main_menu.php: Modified it to go with Esteban's idea
	
	* include/styles/menu.css: Modified it to go with Esteban's idea

	* include/javascript/jquery.pandora.js: Removed previous jquery stuff

2009-02-09  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/logon_ok.php: No tr in thead causes safari to spit an error
	
	* general/main_menu.php: Added jQuery animated menu rolling
	
	* include/styles/menu.css: Removed CSS-based menu rolling

2009-02-09  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/header.php, general/footer.php: Made it comply with standards
	
	* general/main_menu.php: Fixed some typo's.
	
	* include/javascript/jquery.pandora.js: This was loading an extension 
	that has a separate file already
	
	* include/functions.php: Added process_page_head and process_page_body
	these are callback functions for ob_start and add functionality like
	conditional loading and external scripts in the correct places. Also adds
	override functionality to certain items (like refresh) from anywhere
	
	* include/javascript/time_en.js: Added as a placeholder
	
	* extensions/update_manager.php: Fixed some typos
	
	* operation/agentes/exportdata.php, operation/agentes/networkmap.php,
	operation/events/events.php, operation/extensions.php, 
	operation/incidents/incident_detail.php, 
	operation/reporting/reporting_viewer.php, 
	operation/visual_console/render_view.php, 
	godmode/agentes/alert_manager.php,
	godmode/agentes/module_manager_editor.php,
	godmode/agentes/planned_downtime.php,
	godmode/alerts/configure_alert_template.php,
	godmode/alerts/configure_alert_action.php,
	godmode/groups/configure_group.php, godmode/reporting/graph_builder.php,
	godmode/reporting/map_builder.php, godmode/reporting/reporting_builder.php
	godmode/snmpconsole/snmp_alert.php: Changed javascript, css and jquery 
	loading to the new buffer callback handlers.

2009-02-09  Raul Mateos  <raulofpandora@gmail.com>

	* include/config_process.php, general/error_noconfig.php, index.php:
	Back to old build status. Now error_noconfig.php doesn't use build.

2009-02-09  Raul Mateos  <raulofpandora@gmail.com>

	* include/styles/images/toggle.png: Added png file. GIF will be removed.
	
	* include/styles/menu.css, ie.css: Updated to use toggle.png. Updated
	headers.
	
	* include/config_process.php: Moved build to index (it was used by other
	files that didn't included this file). Updated year.
	
	* index.php: Updated build.
	
	* general/error_noconfig.php: Updated year.

2009-02-06  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/styles/menu.css: Updated to make it look good again
	
	* general/main_menu.php: Updated to make it look good again. Also 
	simplified to allow easier modification. If you want to make things
	visible/selected again externally (JS or COOKIE), use the IF/ELSE 
	construction with the big warning.
	
	* general/links_menu.php: Updated to conform to CSS
	
	* include/javascript/jquery.cookie.js: Added to mess with cookies for 
	menu. I will do this in a future update

2009-02-05  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/header.php: Added alt tags to images
	
	* include/functions_db.php: Fixed get_agent_modules function
	
	* include/functions_html.php: Fixed print_image and print_table to conform
	to standards
	
	* index.php: Removed extra closing div that shouldn't be there and conform
	to standards
	
	* godmode/agentes/alert_manager.php: Fixed JavaScript messyness for XHTML

2009-02-05  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Hide actions and templates form.
	Removed unncessary check when there's no module set.

	* include/styles/ie.css: Added to repository. IE fixes. Added fixes
	for menu, because IE doesn't support hover in other elements than a.

	* include/styles/menu.css: Removed font-family property.

	* include/functions_db.php: Style correction.

	* index.php: Added IE CSS fixes if needed.

2009-02-05  Esteban Sanchez  <estebans@artica.es>
	
	* operation/visual_console/render_view.php: Recoverd countdown when
	the map is on full screen. Autorefresh selector is also shown to be
	easier to find.

2009-02-05  Esteban Sanchez  <estebans@artica.es>

	* general/links_menu.php: Added classes to links. Style correction.

	* general/main_menu.php: Fixed an error when the selected option was
	the last one in a submenu.

2009-02-04  Ramon Novoa  <rnovoa@artica.es>

	* include/functions_db.php,
	  godmode/snmpconsole/snmp_alert.php: Fixed SNMP alerts.

	* operation/snmpconsole/snmp_view.php: Show Custom OID as a tooltip.

2009-02-04  Esteban Sanchez  <estebans@artica.es>

	* general/main_menu.php: The menu has been rewritten to be more
	usable, bright and colorful. It's similar to Wordpress administration
	menu. It requires a bit of javascript, but can still works without it.
	Besides, Pandora can remember the menus positions using cookies.

	* include/javascript/jquery.pandora.js: Added javascript code for
	menu handling. Added cookie plugin.
	
	* include/styles/menu.css: Rewritten to be adapted to new menu system.

	* include/styles/images/toggle.gif: Added to repository.

	* include/styles/pandora.css: Set align-top to agent list table under
	Manage agents.

2009-02-04  Esteban Sanchez  <estebans@artica.es>

	* general/login_page.php: Removed width of login error.

	* godmode/agentes/agent_manager.php,
	godmode/agentes/configurar_agente.php: Fixed various errors when
	creating an agent.

	* godmode/agentes/alert_manager.php: Typo error on em closing element.
	Use invisible class instead of style attribute.

	* godmode/agentes/modificar_agente.php: Style correction. Improved a
	bit the interface so the user can go directly to any tab. Fixed agent
	creation parameter.

	* pandoradb.sql: Make disabled field on tagente_modulo not null. It
	could cause some server side errors.

2009-02-02  Esteban Sanchez  <estebans@artica.es>
	
	* godmode/agentes/configurar_agente.php,
	godmode/agentes/module_manager.php,
	godmode/agentes/module_manager_editor.php,
	godmode/agentes/module_manager_editor_data.php,
	godmode/agentes/module_manager_editor_network.php,
	godmode/agentes/module_manager_editor_plugin.php,
	godmode/agentes/module_manager_editor_prediction.php,
	godmode/agentes/module_manager_editor_wmi.php: Agent module editions
	rewritten. The interface should be clearer now and SNMP walking much
	more faster, since it's done with AJAX. Some cleanup might be needed
	yet.

	* godmode/agentes/module_manager_editor_common.php: Added to
	repository. Common part for agent module editors.

	* images/edit.png, images/spinner.gif: Added to repository.

	* include/javascript/jquery.form.js: Added to repository. jQuery form
	plugin.

	* include/javascript/jquery.pandora.js: Added to repository. Special
	Pandora addons for jQuery library.

	* include/javascript/pandora.js: Added an extension to Array
	javascript objects to check if an array has an element.
	
	* include/styles/pandora.css: Added styling for new module editors.

	* include/functions_db.php: Added get_moduletype_description().

	* index.php: Added Pandora jQuery extensions.

	* pandoradb.sql, pandoradb_migrate_20_to_21.sql: Removed alert_text
	useless field from talert_templates.

2009-01-30  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/config.inc.php: Updated documentation on LDAP implementation.
	
	* include/functions_db.php: Restored get_agent_modules_count function.
	
	* index.php, include/config_process.php, godmode/setup/setup.php: Now you
	can enforce https with a config variable

2009-01-30  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Fixed the page title. Show the
	right latest value in non-numeric modules. jQuery selectors fixed to
	work with many alerts.

	* extensions/update_manager/load_updatemanager.php: Fixed setup error
	messages.

	* include/functions_db.php: Added get_agent_module(). Added filter
	paremeter to get_agent_modules(). return_value_agent_module() renamed
	to get_agent_module_last_value() and do not transform to integer.
	Removed useless get_agent_modules_count().

2009-01-30  Jorge Gonzalez  <jorgegonz@svn.gnome.org>

	* include/help/en/help_alert-matches.php,
	  include/help/en/help_serverlag.php,
	  include/help/en/help_time_stamp-comparation.php,
	  include/help/en/help_timesource.php: Modified help files.

	* include/help/es/help_alert-matches.php,
	  include/help/es/help_serverlag.php,
	  include/help/es/help_time_stamp-comparation.php,
	  include/help/es/help_timesource.php: Added Spanish help files.

2009-01-29  Esteban Sanchez  <estebans@artica.es>

	* include/auth/mysql.php: Style correction on switch statements.

	* include/functions_ui.php: Added a flag to
	print_alert_template_example() to allow values replacement.

	* include/functions_reporting.php: Fixed a notice message for
	unitialized values.

	* operation/events/events.php: get_users() result can not be passed
	directly to print_select().

	* pandoradb_migrate_20_to_21.sql: Style correction. Please, put each
	alter table in a row so it can be easier to read.

2009-01-28  Sancho Lerena  <slerena@artica.es>

	* estado_grupo.php: Async modules and keepalive module don't show as down
	anymore.

2009-01-28  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/functions.php, operation/agentes/sla_view.php,
	  operation/agentes/ver_agente.php,
	  operation/reporting/reporting_xml.php,
	  operation/reporting/reporting_viewer.php: Fixed typo.

	* include/languages/index.pot: Updated PO template.

	* include/languages/pt_BR.po, include/languages/es.po,
	  include/languages/pt_BR.mo, include/languages/es.mo: Updated
	  translations.

2009-01-28  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: Removed a javascript
	debug message that avoids normal operation if firebug is not
	installed.

2009-01-26  Sancho Lerena  <slerena@artica.es>

	* include/functions_reporting.php: Fixed count of total alerts. Ignore
	delete pending modules.
	
	* operation/agentes/status_monitor.php: Added filter for pending delete 
	modules.
	
	* reporting/fgraph.php: Fixed typo in combined graphs that makes them
	unusable. Now renders fine.
	
	* pandora_console_upgrade: New script to upgrade console from latest code. 
	Also upgrade database (from 2.0 to 2.1/Trunk version).
	
	* godmode/agentes/alert_manager.php: Notice fix when no modules defined.

	* godmode/agentes/configurar_agente.php: Delete agent renames modulename to
	avoid that a pending delete module makes this module name unusable until
	efective deletion.

2009-01-26  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/styles/pandora.css: Fixed several small errors. Now it looks 
	more similar on other browsers.
	
	* operation/events/events.php: Fixed filter to use get_users ()
	
	* reporting/fgraph.php: Fixed several issues with user graphs

2009-01-26  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: Decode HTML entities of
	value because it was giving unexpected results.

2009-01-26  Esteban Sanchez  <estebans@artica.es>

	* include/functions_ui.php: print_alert_template_example() now
	replaces also the value.

	* godmode/alerts/configure_alert_template.php: Removed first render
	example using javascript.

	* godmode/alerts/alert_templates.php: Removed parameter replacement
	since it's now done in the function.

2009-01-24  Raul Mateos  <raulofpandora@gmail.com>

	* install.php: Added code to show current console URL in step 3. 
	Updated header. Spaces changed to tabs.
	
	* include/functions_reporting.php: Give default value to several vars that
	caused two notice errors. Updated header.
	
	* include/functions_db.php: Solved notice error in search page that caused
	not to show the user. It uses get_users() function from mysql.php. 
	ldap.php and dev.php define the same function, and uses different value, so
	they could give an error in the search page, NOT TESTED. Updated header.
	
	* /extensions/update_manager/sql/update_manager.sql: Changed default text
	value for description column, it was giving a SQL error.

2009-01-23  Esteban Sanchez  <estebans@artica.es>

	* godmode/reporting/map_builder.php: Fixed an error when getting
	layout data on AJAX and any module was selected for the node.

2009-01-22  Sancho Lerena <slerena@artica.es>

	* images/*: Added more icons and backgrouns for visual console.
	
	* map_builder.php: Added support for warning image. Shows in preview. Fixed
	grabbing image info if no file provided.
	 
	* functions_visualmap.php, functions_db.php: Added support for warning status
	in the maps. Also fixed status propagation from linked maps on agent object.
	
	* include/auth/mysql.php: Fixed typo when update password.
	
	* pandoradb_migrate_20_to_21.php: Added some missing lines for tusuario 
	table (comments).
	
2009-01-22  Evi Vanoost <vanooste@rcbi.rochester.edu>

	* include/auth/ldap.php: Finally fixed (hopefully) the last major bug
	
	* godmode/extensions.php: Fixed something that prevented links from 
	generating
	
	* extensions/update_manager/lib/libupdate_manager.php: Fixed proxy not
	being filled in and giving error messages. Now the thing works.

2009-01-22  Evi Vanoost <vanooste@rcbi.rochester.edu>

	* include/auth/mysql.php, include/auth/ldap.php, 
	operation/users/user_edit.php, godmode/users/configure_user.php, 
	godmode/users/user_list.php: Fixed some minor problems and annoyances

2009-01-22  Evi Vanoost <vanooste@rcbi.rochester.edu>

	* pandoradb_migrate_20_to_21.sql, pandoradb.sql: Added user table updates
	You'll have to do the alter tables before upgrading to the latest version
	but it adds functionality and enforces unique usernames
	
	* general/header.php: Don't rely on session variables
	
	* include/auth/dev.php, include/functions_ui.php: Minimal changes to 
	comply with guidelines and new links
	
	* include/auth/mysql.php, include/auth/ldap.php: Added functions and 
	removed bugs.
	
	* include/functions_db.php: Added some functions for profile handling
	
	* include/functions_html.php: Text input is now readonly instead of 
	disabled. This allows copying data from the textbox.
	
	* include/styles/tip.css: Set min-width instead of fixed width for tip
	that way we can have bigger tips without overflowing
	
	* operation/reporting/reporting_xml.php: Added auth there as well
	
	* operation/users/user.php, operation/users/user_edit.php, 
	operation/users/user_statistics.php: New auth functions, better look
	
	* index.php: Process_user_contact sits in logon_db. Saves a query
	
	* godmode/users/configure_user.php, godmode/users/user_list.php: New
	auth functions, better look.

2009-01-22  Jorge Gonzalez <jorgegonz@svn.gnome.org>

	* include/help/en/help_wmiquery.php,
	  include/help/en/help_map_builder.php,
	  include/help/en/help_postprocess.php,
	  include/help/en/help_date_format.php,
	  include/help/en/help_prediction_source_module.php,
	  include/help/en/help_planned_downtime.php,
	  include/help/en/help_recontask.php,
	  include/help/en/help_alerts.php,
	  include/help/en/help_tcp_send.php,
	  include/help/en/help_manage_alerts.php,
	  include/help/en/help_plugin_definition.php,
	  include/help/en/help_manageconfig.php,
	  include/help/es/help_map_builder.php,
	  include/help/es/help_network_component.php,
	  include/help/es/help_module_definition.php: Modified HTML tags,
	  fixed typos.

	* include/help/es/help_plugin_parameters.php,
	  include/help/es/help_alert_validation.php,
	  include/help/es/help_snmpcommunity.php,
	  include/help/es/help_wmiquery.php,
	  include/help/es/help_postprocess.php,
	  include/help/es/help_date_format.php,
	  include/help/es/help_prediction_source_module.php,
	  include/help/es/help_module_type.php,
	  include/help/es/help_planned_downtime.php,
	  include/help/es/help_recontask.php,
	  include/help/es/help_alerts.php,
	  include/help/es/help_snmpwalk.php,
	  include/help/es/help_tcp_send.php,
	  include/help/es/help_duplicateconfig.php,
	  include/help/es/help_wmifield.php,
	  include/help/es/help_manage_alerts.php,
	  include/help/es/help_wmikey.php,
	  include/help/es/help_plugin_definition.php,
	  include/help/es/help_alert_type.php,
	  include/help/es/help_snmpoid.php,
	  include/help/es/help_wminamespace.php,
	  include/help/es/help_manageconfig.php: Added Spanish help files.

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated po template.

2009-01-21  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: Removed auth init because I fixed stat_win.php
	
	* include/functions_html.php: Added border and onclick. Fixed double quote

	* reporting/fgraph.php: Fixed some minor bugs
	
	* reporting/stat_win.php: Added authentication there too

2009-01-21  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Fixed a little bug that avoids
	showing the alert editor.
	
	* godmode/alerts/alert_templates.php: Added the example text for
	alert templates to the tooltip.

	* godmode/alerts/configure_alert_template.php: Function
	print_alert_template_example() moved to functions_ui.php. Little fix
	when max or min values are not numerics.

	* include/functions_ui.php: Added function
	print_alert_template_example().

2009-01-21  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Added support to disable or
	enable an alert. Improved a bit the interface to make it cleaner
	because the modules are a bit separated now.

	* include/functions_alerts.php: Added support to disable or enable an
	alert via set_alerts_agent_module_disable(). Added a flag to choose
	wether to get disabled alerts on an agent or not.

	* ChangeLog: Style correction again. Please, be careful.

2009-01-21  Sancho Lerena <slerena@artica.es>

	* operation/agentes/status_monitor.php:  Added filter for modulegroup

	* operation/agentes/estado_ultimopaquete.php: Removed link to edit.

	* operation/agentes/estado_monitores.php: Fixed link to edit module

	* godmode/agentes/configurar_agente.php: Edit tabs more tiny.

2009-01-21  Sancho Lerena <slerena@artica.es>

	* pandoradb_data.sql: Updated DB Schema version/build.
	
	* operation/agentes/status_monitor.php,
	operation/agentes/estado_agente.php,
	operation/agentes/estado_ultimopaquete.php,
	operation/agentes/estado_monitores.php: Manage correctly async modules
	including keepalive. Show servertype with moduletype icon.

2009-01-21  Esteban Sanchez  <estebans@artica.es>

	* pandoradb.sql, pandoradb_migrate_20_to_21.sql: Added id_agent field
	to tlayout_data. It's needed to give support to nodes in visual
	console that represents a whole agent which turns red if any module is
	down.

	* operation/visual_console/render_view.php: Removed refresh countdown
	and selection because it's now done in the page header.

	* include/functions_visual_map.php: Some fixes to support id_agent
	field in tlayout_data. Also fixed the SQL to check if any module on an
	agent is down.

	* godmode/reporting/map_builder.php: Update and insert id_agent when
	managing a node element.

	* include/styles/pandora.css: Added a style to input image elements.

2009-01-21  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Added the hability to delete
	actions and alert (only when it has no actions).

	* include/functions_alerts.php: Added delete_alert_agent_module() and
	delete_alert_agent_module_action().

2009-01-21  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php,
	include/functions_alerts.php: Added missing matches_value field on
	creation and updating.

	* ChangeLog: Added missing path to files on previous commit.

2009-01-21  Sancho Lerena <slerena@artica.es>

	* pandoradb_migrate_20_to_21.sql: Fixes some problems.
	
	* godmode/setup/setup.php: Removed AD setup tokens.
	
	* godmode/users/user_list.php: Link to user edition was wrong.
	Restored.
	
	* include/functions_db.php: Support for new auth modules was missing
	and fgraph fails to render graphs.

2009-01-20  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: Fixed an error when
	setting max and min values on template creation.

	* godmode/menu.php: Default action on "Manage alerts" is showing the
	templates now.

2009-01-20  Sancho Lerena <slerena@artica.es>

	* install.php: Added ldap module dep.
	
	* include/functions_reporting.php, operation/agentes/status_monitor.php
	operation/agentes/tactical.php, general/logon_ok.php: New filter options for
	warning/critical, removed old data stats and improved filters in module view

2009-01-20  Esteban Sanchez  <estebans@artica.es>

	* include/functions_visual_map.php: Fixed a notice when the node looks
	for any monitor down in an agent.

2009-01-20  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* ajax.php, include/config.inc.php, include/config_process.php,
	include/functions.php, include/functions_db.php, 
	include/functions_ui.php, index.php, install.php, 
	operation/users/user.php, operation/users/user_edit.php,
	reporting/fgraph.php: Added pluggable authentication and moved functions

	* general/login_page.php, general/logon_ok.php, 
	godmode/agentes/modificar_agente.php, 
	godmode/users/configure_users.php, godmode/users/user_list.php, 
	operation/agentes/estado_agente.php, operation/incidents/incident.php, 
	operation/incidents/incident_search.php: Updated functions

2009-01-20  Esteban Sanchez  <estebans@artica.es>

	* ChangeLog: Fixed tabs. Removed some conflict markups and a bit of
	style here and there.

	* index.php, godmode/setup/setup.php, include/styles/menu.css,
	operation/agentes/estado_agente.php,
	operation/agentes/estado_monitores.php,
	operation/agentes/estado_ultimopaquete.php,
	include/functions.php: Tab and spaces style correction.

	* godmode/reporting/map_builder.php: Use generic database functions
	for the insert. Now a node can represent a whole agent, changing to
	bad if any module has failed.

	* include/config_process.php: Use generic databse functions for
	inserts. Fixed an error when inserting loginhash_pwd token. Make the
	token a bit more complicated by multiplying two numbers.

	* include/functions_visual_map.php: Add support to agent nodes that
	will turn to bad icon when any module fails.

2009-01-20  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/jquery.js: Downgraded to 1.2. It was causing some
	errors in visual map edition.

2009-01-20  Sancho Lerena <slerena@artica.es>

	* index.php: Added support for external authentication, based on a HASH.

	* pandoradb.sql: New tables for local templates.

	* pandoradb_migrate*: Updated script.

	* godmode/agentes/agent_manager.php: Fixed field for inventory server.

	* godmode/agentes/module_manager_editor.php: Fixed snmp community for
	WMI modules.

	* godmode/agentes/module_manager_editor_*.php: New fields in editor
	warning, critical, flip-flop.

	* include/config_process.php, 
	godmode/setup/setup.php: Added new option for hash auth.

	* include/functions.php: Added again (please don't delete it) function
	to remove quotes on automatic protection (magicquotes).

	* menu.css: Added icon to inventory server option in the menu.

	* estado_monitores.php: Fix module edit link, better data render on tooltip

	* estado_ultimopaquete.php: Fix module edit link.

2009-01-19  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Removed effect on AJAX tip.

	* include/functions.php: Removed deprecated function.

	* operation/agentes/estado_grupo.php, pandoradb_data.sql,
	operation/agentes/ver_agente.php, reporting/fgraph.php,
	operation/agentes/networkmap.php: Replaced references to old alert
	system with new one.

	* operation/agentes/networkmap.php: Replaced references to old alert
	system with new one. Removed effect on AJAX tip.

	* godmode/snmpconsole/snmp_alert.php: Style correction.

2009-01-19  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/configurar_agente.php: Removed references to old
	talerta and talerta_modulo tables.

	* godmode/agentes/alert_manager_editor.php,
	godmode/alerts/configure_alert.php: Removed from repository. It became
	a useless file since the new alert system is implemented.

	* godmode/agentes/manage_config.php: Style correction. Copy alerts
	among agents using the new tables and structures.

	* godmode/reporting/reporting_builder.php: Do not sort report time
	period, it was not human readable if it was alphanumeric sorted.

	* include/functions_agents.php: Fixed get_agent_alerts_simple() and
	commented get_agent_alerts_combined() code since it's not implemented
	yet.

	* include/functions_db.php, include/functions_reporting.php: Fixed
	function documentation format. Use structures, functions and tables of
	the new alert system.

	* operation/reporting/reporting_viewer.php: Style correction.

	* pandoradb.sql: Removed default values on mediumtext fields because
	it was causing a SQL warning.

2009-01-16  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* godmode/alerts/configure_alert_template.php: Some aesthetic fixes	and
	non-init variable fixes
	
	* include/functions_db.php: Added get_moduletypes since I needed it and
	fixed the documentation tags for 2 functions. Reparsed all documentation
	
	* include/functions_reporting.php: Fixed get_group_stats to work faster
	and now correctly returns the status even if data modules report 0.00

2009-01-16  Raul Mateos  <raulofpandora@gmail.com>

	* index.php: Updated year in header. Solved small notice error.
	
	* operation/agentes/alerts_status.php: Use h2 instead h3 on title. Some
	separation should be between code color and text.

2009-01-16  Esteban Sanchez  <estebans@artica.es>

	* pandoradb.sql: Added new field to talert_templates to specify if the
	alert should fire when on match or mismatch of the values.

	* general/header.php: Fixed the columns width. Added a control when
	the autorefresh is clicked so the user can select the refresh time. A
	countdown is also shown when the page is set to refresh.

	* godmode/alerts/configure_alert_template.php: Control the new flag on
	templates. Added an explanation to explain when the alert is going to
	fire.

	* include/javascript/jquery.js: Updated to v1.3. It promise to be
	quicker in a lot of situations.
	
	* include/javascript/jquery.countdown.js: Updated to latest version.

	* include/styles/pandora.css: Fixed duplicated input.ok. Style
	correction. Added invisible class and a style for alert templates
	page.

	* include/functions_alerts.php: Fixed a notice error on
	clean_alert_template_values().

	* operation/visual_console/render_view.php: Removed jquery inclusion
	because it's already done in the index page.

	* general/main_menu.php: Do not add refr if it's zero.

	* index.php: Avoid the recursive addition of 1=1 when autorefresh is
	set.
	
	* pandoradb_migrate_20_to_21.sql: Added new fields on the tables.

2009-01-16  Ramon Novoa  <rnovoa@artica.es>

	* pandoradb.sql: Updated alert schema to work with the new alert
	  engine.

2009-01-15  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: The steps are now
	available as soon as the alert is created.

	* include/functions_alerts.php: Added validate_alert_agent_module().

	* include/functions_db.php: Removed deprecated
	process_alerts_validate(). Improved process_sql_update() to add
	a row selection parameter, the documentation and a bit fix when
	joining the fields with a coma.

	* operation/agentes/alerts_status.php: Use new functions to validate
	an alert.

	* operation/agentes/ver_agente.php: Removed validation alert codes
	since it doesn't belong here.

2009-01-15  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: Max and min alerts
	were ignored.

	* include/functions_alerts.php: Ensure the max and min alert values
	order.

2009-01-15  Esteban Sanchez  <estebans@artica.es>

	* include/styles/menu.css: Changed the z-index property of the menu
	which was overlapped in some cases.
	
	* include/functions.php: format_alert_row() moved to functions_ui.php

	* include/functions_ui.php: Added format_alert_row() from function.php

	* include/functions_agents.php: Added to repository.

	* include/functions_alerts.php: Added new functions
	get_alerts_agent_module_disabled(),
	set_alerts_agent_module_force_execution(),
	get_alerts_agent_module_last_fired().

	* include/functions_db.php, operation/agentes/estado_agente.php,
	operation/agentes/networkmap.php: Style correction.

	* include/functions_reporting.php: Use new functions_agent.php. Added
	a bit of documentation and style correction.

	* godmode/alerts/alert_templates.php: Improved a bit the template
	tooltip.

	* operation/agentes/alerts_status.php: Added to repository. New
	interface to list agent alerts.

	* operation/agentes/estado_alertas.php: Removed from repository.
	Replaced by alert_status.php.

	* operation/agentes/ver_agente.php: Removed flag_alert code snippet.
	Use new files added. Style correction.

	* operation/menu.php: Old files references replaced by new ones.

	* index.php: Removed build and pandora version references.

	* pandoradb.sql: Removed useless module_type field in
	talert_templates.

	* pandoradb_migrate_20_to_21.sql: Removed duplicate fields addition.
	Fixed some warnings. Added custom_id field to tagente. Style
	correction.

	* include/config_process.php: Updated build version.

2009-01-14  Sancho Lerena <slerena@artica.es>

	* operation/servers/view_server_detail.php: Fixed missing parameter.
	Probably because function interface change.

	* pandoradb_migrate_20_to_21.sql: Added some ALTER table sentences
	was missing.

	* general/login_page.php: Fixed typo.

	* godmode/menu.php: Bad page rendered for module manage. Fixed.

2009-01-14  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions_db.php: New functions process_sql_insert and 
	process_sql_update. They seem to work great, let me know of any bugs.

2009-01-14  Ramon Novoa  <rnovoa@artica.es>

	* operation/agentes/networkmap.php: .dot files are written to disk to
	  avoid problems with huge graphs.

	* godmode/agentes/agent_template.php: Fixed, column
	  tagente_estado.cambio does not exist anymore.

2009-01-12  Esteban Sanchez  <estebans@artica.es>

	* godmode/alerts/configure_alert_template.php: Fixed a bug when going
	forward from step 2 when creating a template.

	* pandoradb_migrate_20_to_21.sql: Added a comment on a line which was
	missing it.

2009-01-12  Sancho Lerena <slrena@artica.es>

	* functions_db.php, 
	* godmode/agentes/configurar_agente.php: Delete module deletes 
	tagent_data_inc record (it's a very small table).

	* reporting/fgraph.php: Fixed small problem in tagent_access graph.

	* pandoradb_migrate_20_to_21.sql: DB Schema migration script. Not
	finished (not convert old data, only add/remove structures).

2009-01-12  Jorge Gonzalez  <jorgegonz@artica.es>

	include/help/en/help_alert-matches.php,
	include/help/en/help_time_stamp-comparation.php: Added help files.

	include/languages/es.po, include/languages/es.mo: Updated Spanish
	translation.

	include/languages/index.pot: Updated po template.

	godmode/setup/setup.php, godmode/agentes/alert_manager.php: Added
	help functions.

2009-01-12  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated po template.

	* include/functions_alerts.php, godmode/menu.php,
	  godmode/agentes/module_manager_editor_network.php,
	  godmode/alerts/alert_templates.php,
	  godmode/alerts/configure_alert_template.php,
	  godmode/setup/setup.php, operation/agentes/estado_alertas.php:
	  Modified strings to improve i18n infrastructure.

2009-01-12  Esteban Sanchez  <estebans@artica.es>

	* include/javascript/pandora_alerts.js: Added to repository.
	Javascript functions for alerts.

	* pandoradb_data.sql: Added missing field in a talert_commands row.

2009-01-12  Esteban Sanchez  <estebans@artica.es>

	* include/functions_alerts.php: Removed debug output. Show no SQL
	error on delete_alert_* functions.

	* index.php: Added missing jQuery script.

	* godmode/alerts/alert_templates.php: Added a missing br. Show "empty"
	string if no value was set.

	* godmode/alerts/alert_commands.php: Added a check to avoid internal
	commands removal.

	* pandoradb.sql: Removed talerta table.

	* pandoradb_data.sql: Data from talerta moved to talert_commands.

2009-01-12  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/alert_manager.php: Complete rewritten of the alert
	system when assigned alerts to an agent.

	* pandoradb.sql: New tables for alert system. These are:
	talert_commands, talert_actions, talert_templates,
	talert_template_modules, talert_template_module_actions. No migration
	tool is available yet.

	* godmode/alerts/configure_alert_template.php,
	godmode/alerts/configure_alert_action.php,
	godmode/alerts/alert_templates.php,
	godmode/alerts/configure_alert_command.php,
	godmode/alerts/alert_actions.php: Added to repository. Administration
	interface to new alert system.

	* godmode/alerts/modify_alert.php: Deleted from repository.

	* godmode/setup/setup.php: Added an example of the date format. Main
	table has now percentage width.

	* godmode/menu.php, operation/menu.php: Added new alert options.
	Removed refr value when it's not neccesary.

	* include/styles/pandora.css: Added width to textarea elements. Style
	correction and cleanup. Tables doesn't have a odd-even pattern, but
	the hovered row now changes its colour. New styles for alert pages.

	* include/functions_custom_graphs.php: Added to repository. custom
	graphs functions moved here.

	* include/functions_incidents.php, include/functions_events.php: Moved
	to LGPL. Style comment corrections.

	* include/functions_html.php: Documentation style correction. Added
	print_input_file() and print_label().

	* include/functions_ui.php: Doc style correction.

	* operation/reporting/graph_viewer.php: Include new function file with
	custom graphs. Use generic functions.

	* index.php: Unset pass from POST and REQUEST arrays.
	
	* include/functions_db.php: Some documentation updated to new format.
	Added format_array_to_update_sql() to generate SQL sentences for
	updates. Style correction.

	* godmode/agentes/configurar_agente.php: Variables renamed to have a
	meaning.

	* extensions/update_manager/main.php: Mark an string translatable.

	* extensions/update_manager/lib/libupdate_manager_client.php,
	godmode/alerts/configure_alert.php, include/functions.php,
	godmode/agentes/module_manager.php, operation/agentes/networkmap.php,
	operation/reporting/reporting_viewer.php, 
	godmode/agentes/manage_config.php: Style correction.

2009-01-12  Sancho Lerena  <slerena@artica.es>

	* pandoradb.sql: Removed fields "timestamp" and "id_agente" (and altered
	some indexes) on tagente_datos, tagente_datos_string and 
	tagente_datos_inc.

	tagente_estado table: removed cambio, added status_changes, last_status.
	tagente_modulo: added five new fields (warning,critical mgmt., flipflop
	detection, history module and delete_pending bit.
	
	* agent_manager.php: Group ALL not shown anymore.

	* configurar_agente.php: Support for new options. Delete a module now
	mark for deletion the module, not delete data (It's VERY slow!).

	* modificar_agente.php: Delete agent now uses the global function, 
	minor fixes.

	* module_manager_editor.php: New fields initializacion.

	* module_manager_editor_network.php: At this time, the first module
	editor who implements the new fields and improve old ones (tcp data).

	* setup.php: Added support for new token: event_view_hr (Filter of max
	old (in hr) for the event viewer. Removed old tokens show_unknown and 
	show_lastalert.

	* functions.php: format_for_graph() has an important BUG that makes
	all units rendered without the "K" !!!!. Fixed.

	* delete_agent.php: Delete remote config (if present). Also mark 
	for deletion modules instead delete them (and let the data without
	being deleted, because it's a HUGE consuming time, and it's left
	for the daily db maintance process).

	* estado_agente.php: Updated code for view new status.

	* estado_generalagente.php: Total packets are removed from this view, 
	this was a huge time consuming SQL operation that don't give important 
	infomation. Groupname is now visualized.
	
	* estado_ultimopaquete.php,
	* estado_monitores.php,
	* estado_grupo.php: Rewritten much code to view new status and other
	minor changes.

	* ver_agente.php: Data view now works under the tabs and other minor
	changes.

	* events.php: Support for the new events and status. Added filter for
	username and for a max. hours old events. Some boxes are now hidden
	by default.

	* fgraph.php: Some graphs are now fixed and uses tagente_datos and 
	tagent_access with utimestamp and without id_agent index. Works faster

2009-01-09  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/footer.php, operation/agentes/sla_view.php, 
	operation/agentes/estado_ultimopaquete.php: Replaced time 
	function with get_system_time
	
	* operation/reporting/reporting_viewer.php, 
	operation/reporting/reporting_xml.php, reporting/stat_win.php,
	godmode/agentes/configurar_agente.php: Function renaming
	
	* include/functions_reporting.php, include/functions_db.php, 
	operation/agentes/exportdata.php, 
	operation/agentes/estado_generalagente.php, reporting/fgraph.php,
	godmode/db/db_info.php, godmode/db/db_purge.php, 
	godmode/agentes/modificar_agente.php: Made tagente_datos.id_agente
	redundant by using the internal functions and separate queries.

2009-01-08  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* general/footer.php: Made image link relative. It wasn't working for
	me.
	
	* include/functions.php, include/functions_exportserver.php,
	include/functions_incidents.php, include/functions_visual_map.php, 
	include/functions_db.php, include/functions_extensions.php,
	include/functions_reporting.php, include/functions_events.php,
	include/functions_html.php, include/functions_ui.php: 
	Updated documentation to adhere to PHPDoc and parses without errors
	
	* include/functions.php: Removed unsafe_string function (magic_quotes)
	Made pagination possible to return instead of print
	
	* include/functions_db.php: Removed give_modulecategory_name 
	(Module types etc. are now in database). Was unused.
	
	* reporting/fgraph.php: Removed unsafe_string usage

2009-01-08  Ramon Novoa  <rnovoa@artica.es>

	* include/functions.php,
	  pandoradb.sql,
	  operation/agentes/estado_alertas.php,
	  operation/agentes/estado_monitores.php,
	  operation/agentes/ver_agente.php: Added support for forced alert
	  execution.

2009-01-07  Evi Vanoost  <vanooste@rcbi.rochester.edu>

	* include/functions.php: Removed safe_sql_string. Cleaned documenation so
	it would be parsed without errors by phpdoc
	
	* include/functions_exportserver.php: Aggregate all exportserver functions
	here.
	
	* include/functions_db.php: Cleaned up documentation. Added 
	get_modulegroups and get_modulegroup_name.
	
	* godmode/db/db_refine.php: Fixed the selection box.

	* godmode/agentes/agent_disk_conf_editor.php: Added todo. Don't handle 
	the footer anymore
	
	* godmode/agentes/agent_template.php, 
	godmode/agentes/module_manager_editor_plugin.php,
	godmode/agentes/module_manager_editor_wmi.php, 
	godmode/agentes/module_manager_editor.php,
	godmode/agentes/module_manager_editor_data.php,
	godmode/agentes/alert_manager_editor.php,
	godmode/agentes/module_manager_editor_network.php, 
	godmode/agentes/module_manager.php, godmode/agentes/agent_manager.php,
	godmode/agentes/alert_manager.php: 
	Removed the ACL part since it was redundant due to the inclusion. 
	Just made sure that it was included (checking on $id_agente)
	
	* godmode/agentes/manage_config.php,
	godmode/agentes/manage_config_remote.php,
	godmode/agentes/planned_downtime.php: Style fix
	
	* godmode/agentes/configurar_agente.php
	godmode/agentes/module_manager_editor_prediction.php: Fixed prediction 
	module creation/update bugs
	
	* godmode/setup/links.php: No more relying on antique (PHP4) functions
	
2009-01-07  Esteban Sanchez  <estebans@artica.es>

	* godmode/agentes/modificar_agente.php: Old functions replace with new
	ones. Removed one indentation level when there's no access rights.
	
	* include/functions_ui.php: Wrong variable was being used in
	print_group_icon() to store the output and an incosistent behaviour
	was happening.

2009-01-07  Esteban Sanchez  <estebans@artica.es>

	* include/functions_ui.php: Added to repository. Functions that prints
	UI elements for Pandora. Let's make functions_html.php a single HTML
	library instead of mixing it up with Pandora specific elements.

	* include/functions.php: Fixed inline doc. Added functions_ui.php.

	* include/functions_html.php: Functions moved to functions_ui.php.
	Fixed checkbox ids in print_checkbox_extended().

	* general/main_menu.php: Make refr attribute optional. Do not print
	class attribut tag if no class was given.

	* general/login_page.php: Show login error message if login fails.
	Put POST values into the form instead of the URL.

	* index.php: Cleaned up login code to become easier.

2009-01-06  Raul Mateos  <raulofpandora@gmail.com>

	* index.php: Updated build.
	
	* general/footer.php: Fixed small issue, thanks to Jure Pečar for
	reporting.

2009-01-05  Evi Vanoost <vanooste@rcbi.rochester.edu>
	
	* godmode/agentes/alert_manager_editor.php, 
	godmode/snmpconsole/snmp_alert.php, include/functions_reporting.php,
	include/functions_reporting.php:
	Function updates
	
	* include/functions.php: show_alert_show_view is now format_alert_row
	
	* include/functions_db.php: get_simple_alerts_in_agent is now 
	get_agent_alerts_simple; get_combined_alerts_in_agent is now 
	get_agent_alerts_combined; get_alerts_in_agent is now get_agent_alerts;
	dame_nombre_alerta is now get_alert_type; get_alerts_in_group is now
	get_group_alerts; dame_id_grupo set to deprecated; Added 
	process_alerts_validate to validate alerts passed to it.
	
	* index.php: Set UTF-8 encoding standard for multibyte functions
	
	* operation/agentes/estado_alertas.php: Rewritten
	
	* operation/agentes/ver_agente.php: Put alert validation in a function

2009-01-05  Jorge Gonzalez  <jorgegonz@artica.es>

	* include/languages/es.po, include/languages/es.mo: Updated Spanish
	  translation.

	* include/languages/index.pot: Updated po template.
